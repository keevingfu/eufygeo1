<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Analysis System - Eufy GEO Platform</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .navbar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 1rem 2rem;
            color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .navbar h1 {
            font-size: 24px;
            font-weight: 600;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .header-section {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }
        
        .header-info h2 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 28px;
        }
        
        .header-actions {
            display: flex;
            gap: 1rem;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-secondary {
            background: #f8f9fa;
            color: #666;
            border: 1px solid #e9ecef;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .kpi-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        
        .kpi-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
        }
        
        .kpi-card.traffic::before {
            background: linear-gradient(90deg, #667eea, #764ba2);
        }
        
        .kpi-card.ranking::before {
            background: linear-gradient(90deg, #2ed573, #27ae60);
        }
        
        .kpi-card.engagement::before {
            background: linear-gradient(90deg, #ffa502, #e67e22);
        }
        
        .kpi-card.conversion::before {
            background: linear-gradient(90deg, #ff4757, #e74c3c);
        }
        
        .kpi-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }
        
        .kpi-title {
            font-size: 14px;
            color: #666;
            font-weight: 600;
        }
        
        .kpi-icon {
            font-size: 24px;
        }
        
        .kpi-value {
            font-size: 32px;
            font-weight: bold;
            color: #333;
            margin-bottom: 0.5rem;
        }
        
        .kpi-change {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 14px;
        }
        
        .change-positive {
            color: #2ed573;
        }
        
        .change-negative {
            color: #ff4757;
        }
        
        .change-neutral {
            color: #95a5a6;
        }
        
        .analysis-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .chart-section {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }
        
        .chart-container {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .chart-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }
        
        .chart-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .time-selector {
            padding: 0.5rem 1rem;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            background: white;
            font-size: 14px;
        }
        
        .chart-box {
            height: 400px;
        }
        
        .insights-panel {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .insight-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #e9ecef;
        }
        
        .insight-item.opportunity {
            border-left-color: #2ed573;
            background: #f0f9f4;
        }
        
        .insight-item.warning {
            border-left-color: #ffa502;
            background: #fff8f0;
        }
        
        .insight-item.alert {
            border-left-color: #ff4757;
            background: #fef2f2;
        }
        
        .insight-item.info {
            border-left-color: #667eea;
            background: #f8f9ff;
        }
        
        .insight-icon {
            font-size: 20px;
            margin-top: 0.25rem;
        }
        
        .insight-content {
            flex: 1;
        }
        
        .insight-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #333;
        }
        
        .insight-description {
            font-size: 14px;
            color: #666;
            margin-bottom: 0.75rem;
        }
        
        .insight-action {
            font-size: 13px;
            color: #667eea;
            cursor: pointer;
            text-decoration: underline;
        }
        
        .data-table-section {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .table-filters {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .filter-input {
            padding: 0.5rem 1rem;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            width: 200px;
        }
        
        .filter-select {
            padding: 0.5rem 1rem;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            background: white;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        
        .data-table th {
            background: #f8f9fa;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: #555;
            border-bottom: 2px solid #e9ecef;
            position: sticky;
            top: 0;
        }
        
        .data-table td {
            padding: 1rem;
            border-bottom: 1px solid #e9ecef;
        }
        
        .data-table tr:hover {
            background: #f8f9fa;
        }
        
        .trend-indicator {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 12px;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-weight: 600;
        }
        
        .trend-up {
            background: #e8f8f0;
            color: #2ed573;
        }
        
        .trend-down {
            background: #ffebef;
            color: #ff4757;
        }
        
        .trend-stable {
            background: #f1f2f6;
            color: #747d8c;
        }
        
        .competitive-analysis {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        .competitor-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .competitor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .competitor-name {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }
        
        .competitor-score {
            padding: 0.5rem 1rem;
            background: #f8f9fa;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }
        
        .competitor-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        .metric-item {
            text-align: center;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .metric-value {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 0.25rem;
        }
        
        .metric-label {
            font-size: 12px;
            color: #666;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .custom-chart-builder {
            margin-top: 1rem;
        }
        
        .chart-builder-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        .builder-controls {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #333;
        }
        
        .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            background: white;
        }
        
        .chart-preview {
            background: #f8f9fa;
            border-radius: 8px;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
        }
        
        @media (max-width: 1200px) {
            .analysis-grid {
                grid-template-columns: 1fr;
            }
            
            .competitive-analysis {
                grid-template-columns: 1fr;
            }
            
            .chart-builder-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <h1>Data Analysis System - Eufy GEO Platform</h1>
    </nav>

    <div class="container">
        <!-- Header Section -->
        <div class="header-section">
            <div class="header-info">
                <h2>Real-time SEO Analytics Dashboard</h2>
                <p>Comprehensive data analysis with predictive insights and competitive intelligence</p>
            </div>
            <div class="header-actions">
                <button class="btn btn-secondary" onclick="showCustomReport()">
                    üìä Custom Report
                </button>
                <button class="btn btn-secondary" onclick="exportData()">
                    üì§ Export Data
                </button>
                <button class="btn btn-primary" onclick="refreshData()">
                    üîÑ Refresh
                </button>
            </div>
        </div>

        <!-- KPI Overview -->
        <div class="kpi-grid">
            <div class="kpi-card traffic">
                <div class="kpi-header">
                    <div class="kpi-title">Organic Traffic</div>
                    <div class="kpi-icon">üìà</div>
                </div>
                <div class="kpi-value">156.2K</div>
                <div class="kpi-change change-positive">
                    <span>‚ÜóÔ∏è</span>
                    <span>+23.5% vs last month</span>
                </div>
            </div>

            <div class="kpi-card ranking">
                <div class="kpi-header">
                    <div class="kpi-title">Avg. Ranking Position</div>
                    <div class="kpi-icon">üéØ</div>
                </div>
                <div class="kpi-value">8.7</div>
                <div class="kpi-change change-positive">
                    <span>‚ÜóÔ∏è</span>
                    <span>-2.1 positions improved</span>
                </div>
            </div>

            <div class="kpi-card engagement">
                <div class="kpi-header">
                    <div class="kpi-title">Click-Through Rate</div>
                    <div class="kpi-icon">üëÜ</div>
                </div>
                <div class="kpi-value">4.8%</div>
                <div class="kpi-change change-positive">
                    <span>‚ÜóÔ∏è</span>
                    <span>+0.7% improvement</span>
                </div>
            </div>

            <div class="kpi-card conversion">
                <div class="kpi-header">
                    <div class="kpi-title">Conversion Rate</div>
                    <div class="kpi-icon">üí∞</div>
                </div>
                <div class="kpi-value">2.1%</div>
                <div class="kpi-change change-negative">
                    <span>‚ÜòÔ∏è</span>
                    <span>-0.3% vs last month</span>
                </div>
            </div>

            <div class="kpi-card">
                <div class="kpi-header">
                    <div class="kpi-title">Keywords in Top 10</div>
                    <div class="kpi-icon">üîë</div>
                </div>
                <div class="kpi-value">342</div>
                <div class="kpi-change change-positive">
                    <span>‚ÜóÔ∏è</span>
                    <span>+28 new rankings</span>
                </div>
            </div>

            <div class="kpi-card">
                <div class="kpi-header">
                    <div class="kpi-title">ROI Performance</div>
                    <div class="kpi-icon">üìä</div>
                </div>
                <div class="kpi-value">3.2x</div>
                <div class="kpi-change change-positive">
                    <span>‚ÜóÔ∏è</span>
                    <span>+0.8x increase</span>
                </div>
            </div>
        </div>

        <!-- Main Analysis Grid -->
        <div class="analysis-grid">
            <!-- Charts Section -->
            <div class="chart-section">
                <!-- Traffic Analytics -->
                <div class="chart-container">
                    <div class="chart-header">
                        <div class="chart-title">Traffic Performance (90 Days)</div>
                        <div class="chart-controls">
                            <select class="time-selector">
                                <option>Last 90 Days</option>
                                <option>Last 30 Days</option>
                                <option>Last 7 Days</option>
                                <option>Year to Date</option>
                            </select>
                            <button class="btn btn-secondary">üìã Analyze</button>
                        </div>
                    </div>
                    <div id="trafficChart" class="chart-box"></div>
                </div>

                <!-- Ranking Distribution -->
                <div class="chart-container">
                    <div class="chart-header">
                        <div class="chart-title">Keyword Ranking Distribution</div>
                        <div class="chart-controls">
                            <select class="time-selector">
                                <option>All Keywords</option>
                                <option>P0-P1 Priority</option>
                                <option>P2-P3 Priority</option>
                                <option>Long-tail Keywords</option>
                            </select>
                        </div>
                    </div>
                    <div id="rankingChart" class="chart-box"></div>
                </div>
            </div>

            <!-- AI Insights Panel -->
            <div class="insights-panel">
                <h3>AI-Powered Insights</h3>
                
                <div class="insight-item opportunity">
                    <div class="insight-icon">üí°</div>
                    <div class="insight-content">
                        <div class="insight-title">Growth Opportunity</div>
                        <div class="insight-description">
                            "Smart doorbell" keyword shows 340% search volume increase. Consider creating targeted content.
                        </div>
                        <div class="insight-action" onclick="takeAction('create-content')">Create Content Plan ‚Üí</div>
                    </div>
                </div>

                <div class="insight-item warning">
                    <div class="insight-icon">‚ö†Ô∏è</div>
                    <div class="insight-content">
                        <div class="insight-title">Ranking Drop Alert</div>
                        <div class="insight-description">
                            5 high-priority keywords dropped 3+ positions. Likely due to competitor content updates.
                        </div>
                        <div class="insight-action" onclick="takeAction('investigate-drop')">Investigate Issues ‚Üí</div>
                    </div>
                </div>

                <div class="insight-item info">
                    <div class="insight-icon">üìä</div>
                    <div class="insight-content">
                        <div class="insight-title">Trend Prediction</div>
                        <div class="insight-description">
                            Based on seasonal patterns, expect 45% traffic increase in November for "Black Friday" keywords.
                        </div>
                        <div class="insight-action" onclick="takeAction('prepare-campaign')">Prepare Campaign ‚Üí</div>
                    </div>
                </div>

                <div class="insight-item alert">
                    <div class="insight-icon">üö®</div>
                    <div class="insight-content">
                        <div class="insight-title">Conversion Drop</div>
                        <div class="insight-description">
                            Conversion rate decreased 0.3%. Analysis suggests mobile experience issues.
                        </div>
                        <div class="insight-action" onclick="takeAction('fix-mobile')">Optimize Mobile ‚Üí</div>
                    </div>
                </div>

                <div class="insight-item opportunity">
                    <div class="insight-icon">üéØ</div>
                    <div class="insight-content">
                        <div class="insight-title">AIO Opportunity</div>
                        <div class="insight-description">
                            12 keywords have high AIO potential but no current coverage. Estimated 15K monthly traffic gain.
                        </div>
                        <div class="insight-action" onclick="takeAction('aio-content')">Target AIO Features ‚Üí</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Competitive Analysis -->
        <div class="competitive-analysis">
            <div class="competitor-card">
                <div class="competitor-header">
                    <div class="competitor-name">Ring Security</div>
                    <div class="competitor-score">Threat Level: High</div>
                </div>
                <div class="competitor-metrics">
                    <div class="metric-item">
                        <div class="metric-value">892K</div>
                        <div class="metric-label">Monthly Traffic</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">6.2</div>
                        <div class="metric-label">Avg Position</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">1,247</div>
                        <div class="metric-label">Ranking Keywords</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">+15%</div>
                        <div class="metric-label">Growth Rate</div>
                    </div>
                </div>
            </div>

            <div class="competitor-card">
                <div class="competitor-header">
                    <div class="competitor-name">Arlo Technologies</div>
                    <div class="competitor-score">Threat Level: Medium</div>
                </div>
                <div class="competitor-metrics">
                    <div class="metric-item">
                        <div class="metric-value">654K</div>
                        <div class="metric-label">Monthly Traffic</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">8.9</div>
                        <div class="metric-label">Avg Position</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">976</div>
                        <div class="metric-label">Ranking Keywords</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">+8%</div>
                        <div class="metric-label">Growth Rate</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Detailed Data Table -->
        <div class="data-table-section">
            <div class="table-header">
                <h3>Keyword Performance Analysis</h3>
                <div class="table-filters">
                    <input type="text" class="filter-input" placeholder="Search keywords...">
                    <select class="filter-select">
                        <option>All Priority Levels</option>
                        <option>P0 Critical</option>
                        <option>P1 High</option>
                        <option>P2 Medium</option>
                    </select>
                    <select class="filter-select">
                        <option>All Trends</option>
                        <option>Improving</option>
                        <option>Declining</option>
                        <option>Stable</option>
                    </select>
                </div>
            </div>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Keyword</th>
                        <th>Current Position</th>
                        <th>Previous Position</th>
                        <th>Trend</th>
                        <th>Monthly Traffic</th>
                        <th>CTR</th>
                        <th>Competition</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>eufy security camera</strong></td>
                        <td>3</td>
                        <td>5</td>
                        <td><span class="trend-indicator trend-up">‚ÜóÔ∏è +2</span></td>
                        <td>165,000</td>
                        <td>6.2%</td>
                        <td>High</td>
                        <td><button class="btn btn-secondary" style="padding: 0.5rem;">Optimize</button></td>
                    </tr>
                    <tr>
                        <td><strong>best home security system</strong></td>
                        <td>7</td>
                        <td>6</td>
                        <td><span class="trend-indicator trend-down">‚ÜòÔ∏è -1</span></td>
                        <td>89,000</td>
                        <td>4.8%</td>
                        <td>Very High</td>
                        <td><button class="btn btn-secondary" style="padding: 0.5rem;">Analyze</button></td>
                    </tr>
                    <tr>
                        <td><strong>wireless doorbell camera</strong></td>
                        <td>12</td>
                        <td>12</td>
                        <td><span class="trend-indicator trend-stable">‚Üí 0</span></td>
                        <td>34,000</td>
                        <td>3.1%</td>
                        <td>Medium</td>
                        <td><button class="btn btn-secondary" style="padding: 0.5rem;">Improve</button></td>
                    </tr>
                    <tr>
                        <td><strong>smart home security</strong></td>
                        <td>8</td>
                        <td>11</td>
                        <td><span class="trend-indicator trend-up">‚ÜóÔ∏è +3</span></td>
                        <td>28,000</td>
                        <td>5.4%</td>
                        <td>High</td>
                        <td><button class="btn btn-secondary" style="padding: 0.5rem;">Monitor</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Custom Report Modal -->
    <div class="modal" id="customReportModal">
        <div class="modal-content">
            <h3>Custom Report Builder</h3>
            
            <div class="chart-builder-grid">
                <div class="builder-controls">
                    <div class="form-group">
                        <label class="form-label">Report Type</label>
                        <select class="form-select">
                            <option>Keyword Performance</option>
                            <option>Traffic Analysis</option>
                            <option>Competitive Intelligence</option>
                            <option>ROI Dashboard</option>
                            <option>Content Performance</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Data Source</label>
                        <select class="form-select">
                            <option>Google Search Console</option>
                            <option>Google Analytics</option>
                            <option>Internal Tracking</option>
                            <option>Third-party Tools</option>
                            <option>Combined Sources</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Time Range</label>
                        <select class="form-select">
                            <option>Last 7 Days</option>
                            <option>Last 30 Days</option>
                            <option>Last 90 Days</option>
                            <option>Year to Date</option>
                            <option>Custom Range</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Visualization</label>
                        <select class="form-select">
                            <option>Line Chart</option>
                            <option>Bar Chart</option>
                            <option>Pie Chart</option>
                            <option>Heatmap</option>
                            <option>Data Table</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Filters</label>
                        <select class="form-select" multiple>
                            <option>Priority Keywords Only</option>
                            <option>Exclude Brand Terms</option>
                            <option>Desktop Only</option>
                            <option>Mobile Only</option>
                            <option>Top 10 Rankings</option>
                        </select>
                    </div>
                </div>

                <div class="chart-preview">
                    <div>Chart preview will appear here</div>
                </div>
            </div>

            <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
                <button class="btn btn-secondary" onclick="hideModal('customReportModal')">Cancel</button>
                <button class="btn btn-primary" onclick="generateCustomReport()">Generate Report</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize charts
        function initCharts() {
            // Traffic Performance Chart
            const trafficChart = echarts.init(document.getElementById('trafficChart'));
            const trafficOption = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'cross'
                    }
                },
                legend: {
                    data: ['Organic Traffic', 'Paid Traffic', 'Direct Traffic']
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: ['Jul', 'Aug', 'Sep 1', 'Sep 15', 'Oct 1', 'Oct 15', 'Today']
                },
                yAxis: {
                    type: 'value',
                    name: 'Sessions'
                },
                series: [
                    {
                        name: 'Organic Traffic',
                        type: 'line',
                        data: [89000, 95000, 112000, 125000, 134000, 145000, 156200],
                        itemStyle: {color: '#667eea'},
                        areaStyle: {opacity: 0.1}
                    },
                    {
                        name: 'Paid Traffic',
                        type: 'line',
                        data: [23000, 25000, 28000, 32000, 35000, 38000, 42000],
                        itemStyle: {color: '#ffa502'},
                        areaStyle: {opacity: 0.1}
                    },
                    {
                        name: 'Direct Traffic',
                        type: 'line',
                        data: [45000, 47000, 49000, 52000, 54000, 58000, 61000],
                        itemStyle: {color: '#2ed573'},
                        areaStyle: {opacity: 0.1}
                    }
                ]
            };
            trafficChart.setOption(trafficOption);

            // Ranking Distribution Chart
            const rankingChart = echarts.init(document.getElementById('rankingChart'));
            const rankingOption = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['Position 1-3', 'Position 4-10', 'Position 11-20', 'Position 21-50', 'Position 51+']
                },
                yAxis: {
                    type: 'value',
                    name: 'Keywords'
                },
                series: [{
                    name: 'Keyword Count',
                    type: 'bar',
                    data: [45, 297, 189, 234, 178],
                    itemStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            {offset: 0, color: '#667eea'},
                            {offset: 1, color: '#764ba2'}
                        ])
                    }
                }]
            };
            rankingChart.setOption(rankingOption);

            // Make charts responsive
            window.addEventListener('resize', function() {
                trafficChart.resize();
                rankingChart.resize();
            });
        }

        // Modal functions
        function showCustomReport() {
            document.getElementById('customReportModal').style.display = 'flex';
        }

        function hideModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Action functions
        function takeAction(actionType) {
            switch(actionType) {
                case 'create-content':
                    alert('Opening content creation workflow for "smart doorbell" keyword...');
                    break;
                case 'investigate-drop':
                    alert('Launching ranking drop investigation analysis...');
                    break;
                case 'prepare-campaign':
                    alert('Starting Black Friday campaign preparation...');
                    break;
                case 'fix-mobile':
                    alert('Opening mobile optimization recommendations...');
                    break;
                case 'aio-content':
                    alert('Analyzing AIO opportunities and content gaps...');
                    break;
            }
        }

        function generateCustomReport() {
            alert('Generating custom report... This will be available in the Reports section.');
            hideModal('customReportModal');
        }

        function exportData() {
            alert('Exporting data to CSV format...');
        }

        function refreshData() {
            alert('Refreshing all data sources...');
            // Simulate data refresh
            setTimeout(() => {
                alert('Data refreshed successfully!');
            }, 2000);
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            initCharts();
        });

        // Close modals when clicking outside
        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        });
    </script>
</body>
</html>