<!-- A/O Page Builder Module -->
<div class="module-content">
    <!-- A/O页面构建器标题 -->
    <div class="module-header">
        <h2 style="font-size: 24px; margin-bottom: 20px; color: #FF6900;">
            🎨 A/O 页面构建器
        </h2>
        <div class="header-actions">
            <button class="action-btn" onclick="createNewPage()">✨ 新建页面</button>
            <button class="action-btn" onclick="importTemplate()">📥 导入模板</button>
            <button class="action-btn" onclick="exportPages()">📤 导出页面</button>
        </div>
    </div>

    <!-- 页面统计概览 -->
    <div class="page-stats">
        <h3 style="margin-bottom: 20px;">📊 页面统计概览</h3>
        <div class="stats-grid">
            <div class="stat-card active">
                <div class="stat-icon">🚀</div>
                <div class="stat-content">
                    <div class="stat-number">12</div>
                    <div class="stat-label">活跃页面</div>
                    <div class="stat-detail">E28专项优化</div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">📈</div>
                <div class="stat-content">
                    <div class="stat-number">8.5%</div>
                    <div class="stat-label">平均转化率</div>
                    <div class="stat-detail">↑ +2.3% vs上月</div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">👁️</div>
                <div class="stat-content">
                    <div class="stat-number">156K</div>
                    <div class="stat-label">月访问量</div>
                    <div class="stat-detail">↑ +23% 增长</div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">⚡</div>
                <div class="stat-content">
                    <div class="stat-number">1.8s</div>
                    <div class="stat-label">平均加载时间</div>
                    <div class="stat-detail">✅ 性能优秀</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 页面编辑器界面 -->
    <div class="page-editor">
        <h3 style="margin-bottom: 20px;">🎯 智能页面编辑器</h3>
        <div class="editor-layout">
            <!-- 左侧组件库 -->
            <div class="component-library">
                <h4>组件库</h4>
                <div class="component-categories">
                    <button class="category-btn active" onclick="switchComponentCategory('layout')">布局</button>
                    <button class="category-btn" onclick="switchComponentCategory('content')">内容</button>
                    <button class="category-btn" onclick="switchComponentCategory('form')">表单</button>
                    <button class="category-btn" onclick="switchComponentCategory('media')">媒体</button>
                </div>
                
                <div class="component-grid" id="layoutComponents">
                    <div class="component-item" draggable="true" data-component="hero-section" onclick="showComponentModal('hero')">
                        <div class="component-preview">
                            <div class="preview-box hero">Hero</div>
                        </div>
                        <div class="component-name">英雄区</div>
                    </div>
                    
                    <div class="component-item" draggable="true" data-component="feature-grid" onclick="showComponentModal('grid')">
                        <div class="component-preview">
                            <div class="preview-box grid">Grid</div>
                        </div>
                        <div class="component-name">特性网格</div>
                    </div>
                    
                    <div class="component-item" draggable="true" data-component="comparison-table" onclick="showComponentModal('table')">
                        <div class="component-preview">
                            <div class="preview-box table">Table</div>
                        </div>
                        <div class="component-name">对比表格</div>
                    </div>
                    
                    <div class="component-item" draggable="true" data-component="testimonial" onclick="showComponentModal('quote')">
                        <div class="component-preview">
                            <div class="preview-box quote">Quote</div>
                        </div>
                        <div class="component-name">用户评价</div>
                    </div>
                    
                    <div class="component-item" draggable="true" data-component="cta-section" onclick="showComponentModal('cta')">
                        <div class="component-preview">
                            <div class="preview-box cta">CTA</div>
                        </div>
                        <div class="component-name">行动号召</div>
                    </div>
                    
                    <div class="component-item" draggable="true" data-component="faq-section" onclick="showComponentModal('faq')">
                        <div class="component-preview">
                            <div class="preview-box faq">FAQ</div>
                        </div>
                        <div class="component-name">常见问题</div>
                    </div>
                </div>
            </div>
            
            <!-- 中间画布区 -->
            <div class="canvas-area">
                <div class="canvas-toolbar">
                    <div class="toolbar-left">
                        <button class="tool-btn" onclick="undoAction()">↶ 撤销</button>
                        <button class="tool-btn" onclick="redoAction()">↷ 重做</button>
                        <button class="tool-btn" onclick="previewPage()">👁️ 预览</button>
                    </div>
                    <div class="toolbar-center">
                        <span class="page-title">E28 FlexiOne功能页面</span>
                    </div>
                    <div class="toolbar-right">
                        <button class="tool-btn" onclick="savePage()">💾 保存</button>
                        <button class="tool-btn publish" onclick="publishPage()">🚀 发布</button>
                    </div>
                </div>
                
                <div class="canvas-container">
                    <div class="canvas" id="pageCanvas">
                        <!-- 示例页面内容 -->
                        <div class="canvas-component hero-component" data-component-id="hero-1">
                            <div class="component-content">
                                <h1>Eufy Omni E28</h1>
                                <h2>革命性FlexiOne手持清洁技术</h2>
                                <p>唯一配备可拆卸手持清洁器的智能扫地机器人，让清洁无死角</p>
                                <button class="cta-button">立即了解 →</button>
                            </div>
                            <div class="component-controls">
                                <button onclick="editComponent('hero-1')">✏️</button>
                                <button onclick="deleteComponent('hero-1')">🗑️</button>
                            </div>
                        </div>
                        
                        <div class="canvas-component feature-component" data-component-id="features-1">
                            <div class="component-content">
                                <h3>核心优势</h3>
                                <div class="feature-grid">
                                    <div class="feature-item">
                                        <div class="feature-icon">💨</div>
                                        <h4>20,000Pa吸力</h4>
                                        <p>强劲吸力，深度清洁</p>
                                    </div>
                                    <div class="feature-item">
                                        <div class="feature-icon">🖐️</div>
                                        <h4>FlexiOne手持</h4>
                                        <p>便携清洁，随时可用</p>
                                    </div>
                                    <div class="feature-item">
                                        <div class="feature-icon">💧</div>
                                        <h4>HydroJet拖布</h4>
                                        <p>自清洗拖布系统</p>
                                    </div>
                                    <div class="feature-item">
                                        <div class="feature-icon">🤖</div>
                                        <h4>AI智能避障</h4>
                                        <p>精准识别，安全清洁</p>
                                    </div>
                                </div>
                            </div>
                            <div class="component-controls">
                                <button onclick="editComponent('features-1')">✏️</button>
                                <button onclick="deleteComponent('features-1')">🗑️</button>
                            </div>
                        </div>
                        
                        <div class="drop-zone">
                            <div class="drop-zone-content">
                                <div class="drop-icon">⬇️</div>
                                <p>将组件拖拽到此处添加内容</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 右侧属性面板 -->
            <div class="properties-panel">
                <h4>属性设置</h4>
                <div class="property-sections">
                    <div class="property-section">
                        <h5>📱 响应式设置</h5>
                        <div class="responsive-controls">
                            <button class="device-btn active" onclick="setDevice('desktop')">🖥️ 桌面</button>
                            <button class="device-btn" onclick="setDevice('tablet')">📱 平板</button>
                            <button class="device-btn" onclick="setDevice('mobile')">📱 手机</button>
                        </div>
                    </div>
                    
                    <div class="property-section">
                        <h5>🎨 样式设置</h5>
                        <div class="style-controls">
                            <div class="control-group">
                                <label>背景颜色</label>
                                <input type="color" value="#FF6900" onchange="updateStyle('background', this.value)">
                            </div>
                            <div class="control-group">
                                <label>文字颜色</label>
                                <input type="color" value="#FFFFFF" onchange="updateStyle('color', this.value)">
                            </div>
                            <div class="control-group">
                                <label>字体大小</label>
                                <input type="range" min="12" max="48" value="16" onchange="updateStyle('fontSize', this.value + 'px')">
                            </div>
                            <div class="control-group">
                                <label>间距</label>
                                <input type="range" min="0" max="50" value="20" onchange="updateStyle('padding', this.value + 'px')">
                            </div>
                        </div>
                    </div>
                    
                    <div class="property-section">
                        <h5>⚡ 动画效果</h5>
                        <div class="animation-controls">
                            <select onchange="updateAnimation(this.value)">
                                <option value="none">无动画</option>
                                <option value="fadeIn">淡入</option>
                                <option value="slideUp">上滑</option>
                                <option value="slideLeft">左滑</option>
                                <option value="bounce">弹跳</option>
                            </select>
                            <div class="control-group">
                                <label>延迟时间(ms)</label>
                                <input type="number" value="0" min="0" max="2000" step="100">
                            </div>
                        </div>
                    </div>
                    
                    <div class="property-section">
                        <h5>📊 A/B测试</h5>
                        <div class="ab-test-controls">
                            <button class="ab-btn" onclick="createVariant()">➕ 创建变体</button>
                            <div class="variant-list">
                                <div class="variant-item active">
                                    <span>原版 (50%)</span>
                                    <button onclick="editVariant('original')">✏️</button>
                                </div>
                                <div class="variant-item">
                                    <span>变体A (50%)</span>
                                    <button onclick="editVariant('variant-a')">✏️</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 页面管理 -->
    <div class="page-management">
        <h3 style="margin-bottom: 20px;">📋 页面管理</h3>
        <div class="page-list">
            <div class="page-item featured">
                <div class="page-thumbnail">
                    <div class="thumb-content">E28 FlexiOne</div>
                </div>
                <div class="page-info">
                    <h4>E28 FlexiOne功能页面</h4>
                    <div class="page-meta">
                        <span class="page-status active">活跃</span>
                        <span class="page-visits">12.3K 访问</span>
                        <span class="page-conversion">8.5% 转化</span>
                    </div>
                    <div class="page-date">最后编辑: 2024-03-15</div>
                </div>
                <div class="page-actions">
                    <button class="page-btn primary" onclick="editPage('flexione-page')">编辑</button>
                    <button class="page-btn secondary" onclick="duplicatePage('flexione-page')">复制</button>
                    <button class="page-btn analytics" onclick="viewAnalytics('flexione-page')">分析</button>
                </div>
            </div>
            
            <div class="page-item">
                <div class="page-thumbnail">
                    <div class="thumb-content">E28 vs 竞品</div>
                </div>
                <div class="page-info">
                    <h4>E28 vs 竞品对比页面</h4>
                    <div class="page-meta">
                        <span class="page-status active">活跃</span>
                        <span class="page-visits">8.7K 访问</span>
                        <span class="page-conversion">6.2% 转化</span>
                    </div>
                    <div class="page-date">最后编辑: 2024-03-12</div>
                </div>
                <div class="page-actions">
                    <button class="page-btn primary" onclick="editPage('comparison-page')">编辑</button>
                    <button class="page-btn secondary" onclick="duplicatePage('comparison-page')">复制</button>
                    <button class="page-btn analytics" onclick="viewAnalytics('comparison-page')">分析</button>
                </div>
            </div>
            
            <div class="page-item">
                <div class="page-thumbnail">
                    <div class="thumb-content">HydroJet 技术</div>
                </div>
                <div class="page-info">
                    <h4>HydroJet拖布技术说明</h4>
                    <div class="page-meta">
                        <span class="page-status draft">草稿</span>
                        <span class="page-visits">- 访问</span>
                        <span class="page-conversion">- 转化</span>
                    </div>
                    <div class="page-date">创建时间: 2024-03-10</div>
                </div>
                <div class="page-actions">
                    <button class="page-btn primary" onclick="editPage('hydrojet-page')">编辑</button>
                    <button class="page-btn success" onclick="publishPage('hydrojet-page')">发布</button>
                    <button class="page-btn danger" onclick="deletePage('hydrojet-page')">删除</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 性能分析 -->
    <div class="performance-analysis">
        <h3 style="margin-bottom: 20px;">📈 性能分析</h3>
        <div class="analysis-grid">
            <div class="analysis-card">
                <h4>转化漏斗分析</h4>
                <div id="conversionFunnel" style="height: 250px;"></div>
            </div>
            <div class="analysis-card">
                <h4>页面热力图</h4>
                <div class="heatmap-container">
                    <div class="heatmap-overlay">
                        <div class="heat-point hot" style="top: 20%; left: 50%;" data-clicks="156"></div>
                        <div class="heat-point warm" style="top: 45%; left: 30%;" data-clicks="89"></div>
                        <div class="heat-point cool" style="top: 70%; left: 60%;" data-clicks="34"></div>
                    </div>
                    <div class="heatmap-legend">
                        <span class="legend-item"><span class="dot hot"></span>高点击</span>
                        <span class="legend-item"><span class="dot warm"></span>中点击</span>
                        <span class="legend-item"><span class="dot cool"></span>低点击</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal Container -->
<div id="modalContainer" class="modal-container" style="display: none;">
    <div class="modal-overlay" onclick="closeModal()"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="modalTitle">Modal Title</h3>
            <button class="modal-close" onclick="closeModal()">×</button>
        </div>
        <div id="modalBody" class="modal-body">
            <!-- Dynamic content will be inserted here -->
        </div>
    </div>
</div>

<style>
.page-stats {
    margin-bottom: 30px;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.stat-card {
    display: flex;
    align-items: center;
    gap: 15px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 20px;
    transition: all 0.3s;
}

.stat-card.active {
    border-color: rgba(255, 105, 0, 0.3);
    background: linear-gradient(135deg, rgba(255,105,0,0.1) 0%, rgba(102,126,234,0.1) 100%);
}

.stat-icon {
    font-size: 32px;
}

.stat-number {
    font-size: 24px;
    font-weight: bold;
    color: #FF6900;
    margin-bottom: 4px;
}

.stat-label {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 4px;
}

.stat-detail {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.5);
}

.page-editor {
    margin-bottom: 30px;
}

.editor-layout {
    display: grid;
    grid-template-columns: 200px 1fr 250px;
    gap: 20px;
    height: 600px;
}

.component-library,
.properties-panel {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 15px;
    overflow-y: auto;
}

.component-library h4,
.properties-panel h4 {
    margin: 0 0 15px 0;
    font-size: 14px;
    color: #FF6900;
}

.component-categories {
    display: flex;
    flex-direction: column;
    gap: 5px;
    margin-bottom: 15px;
}

.category-btn {
    padding: 8px 12px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    color: rgba(255, 255, 255, 0.7);
    font-size: 12px;
    cursor: pointer;
    transition: all 0.3s;
}

.category-btn.active,
.category-btn:hover {
    background: linear-gradient(135deg, #FF6900 0%, #FF8C00 100%);
    color: white;
    border-color: #FF6900;
}

.component-grid {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.component-item {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 10px;
    cursor: grab;
    transition: all 0.3s;
}

.component-item:hover {
    background: rgba(255, 255, 255, 0.08);
    transform: translateY(-2px);
}

.component-item:active {
    cursor: grabbing;
}

.component-preview {
    margin-bottom: 8px;
}

.preview-box {
    width: 100%;
    height: 40px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    font-weight: 600;
    color: white;
}

.preview-box.hero { background: linear-gradient(135deg, #FF6900, #FF8C00); }
.preview-box.grid { background: linear-gradient(135deg, #667eea, #764ba2); }
.preview-box.table { background: linear-gradient(135deg, #52C41A, #389e0d); }
.preview-box.quote { background: linear-gradient(135deg, #1890FF, #096dd9); }
.preview-box.cta { background: linear-gradient(135deg, #FAAD14, #d48806); }
.preview-box.faq { background: linear-gradient(135deg, #722ed1, #531dab); }

.component-name {
    font-size: 11px;
    text-align: center;
    color: rgba(255, 255, 255, 0.8);
}

.canvas-area {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    display: flex;
    flex-direction: column;
}

.canvas-toolbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 15px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.toolbar-left,
.toolbar-right {
    display: flex;
    gap: 8px;
}

.tool-btn {
    padding: 6px 12px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    color: white;
    font-size: 11px;
    cursor: pointer;
    transition: all 0.3s;
}

.tool-btn:hover {
    background: rgba(255, 255, 255, 0.1);
}

.tool-btn.publish {
    background: linear-gradient(135deg, #52C41A 0%, #389e0d 100%);
    border-color: #52C41A;
}

.page-title {
    font-size: 14px;
    font-weight: 600;
    color: #FF6900;
}

.canvas-container {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
}

.canvas {
    background: rgba(255, 255, 255, 0.02);
    border: 2px dashed rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    min-height: 500px;
    padding: 20px;
    position: relative;
}

.canvas-component {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    margin-bottom: 15px;
    position: relative;
    transition: all 0.3s;
}

.canvas-component:hover {
    border-color: rgba(255, 105, 0, 0.5);
    box-shadow: 0 0 0 2px rgba(255, 105, 0, 0.2);
}

.canvas-component:hover .component-controls {
    opacity: 1;
}

.component-content {
    padding: 20px;
}

.hero-component .component-content {
    text-align: center;
    background: linear-gradient(135deg, rgba(255,105,0,0.2), rgba(102,126,234,0.2));
}

.hero-component h1 {
    font-size: 32px;
    margin: 0 0 10px 0;
    color: #FF6900;
}

.hero-component h2 {
    font-size: 24px;
    margin: 0 0 15px 0;
    color: white;
}

.hero-component p {
    font-size: 16px;
    margin: 0 0 20px 0;
    color: rgba(255, 255, 255, 0.8);
}

.cta-button {
    padding: 12px 24px;
    background: linear-gradient(135deg, #FF6900 0%, #FF8C00 100%);
    border: none;
    border-radius: 8px;
    color: white;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
}

.feature-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.feature-item {
    text-align: center;
    padding: 15px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
}

.feature-icon {
    font-size: 32px;
    margin-bottom: 10px;
}

.feature-item h4 {
    margin: 0 0 8px 0;
    color: #FF6900;
}

.feature-item p {
    margin: 0;
    font-size: 13px;
    color: rgba(255, 255, 255, 0.7);
}

.component-controls {
    position: absolute;
    top: 5px;
    right: 5px;
    display: flex;
    gap: 5px;
    opacity: 0;
    transition: opacity 0.3s;
}

.component-controls button {
    padding: 4px 8px;
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    color: white;
    font-size: 10px;
    cursor: pointer;
}

.drop-zone {
    border: 2px dashed rgba(255, 105, 0, 0.3);
    border-radius: 8px;
    padding: 40px;
    text-align: center;
    color: rgba(255, 255, 255, 0.5);
    margin-top: 20px;
}

.drop-zone-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
}

.drop-icon {
    font-size: 32px;
}

.property-sections {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.property-section {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-bottom: 15px;
}

.property-section:last-child {
    border-bottom: none;
}

.property-section h5 {
    margin: 0 0 10px 0;
    font-size: 12px;
    color: rgba(255, 255, 255, 0.8);
}

.responsive-controls,
.ab-test-controls {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.device-btn,
.ab-btn {
    padding: 6px 10px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    color: white;
    font-size: 10px;
    cursor: pointer;
    transition: all 0.3s;
}

.device-btn.active {
    background: rgba(255, 105, 0, 0.2);
    border-color: #FF6900;
    color: #FF6900;
}

.style-controls,
.animation-controls {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.control-group label {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.7);
}

.control-group input,
.control-group select {
    padding: 4px 8px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    color: white;
    font-size: 11px;
}

.variant-list {
    display: flex;
    flex-direction: column;
    gap: 5px;
    margin-top: 10px;
}

.variant-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
    font-size: 11px;
}

.variant-item.active {
    background: rgba(255, 105, 0, 0.1);
    border: 1px solid rgba(255, 105, 0, 0.3);
}

.page-management {
    margin-bottom: 30px;
}

.page-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.page-item {
    display: flex;
    align-items: center;
    gap: 20px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 20px;
    transition: all 0.3s;
}

.page-item.featured {
    border-color: rgba(255, 105, 0, 0.3);
    background: linear-gradient(135deg, rgba(255,105,0,0.05) 0%, rgba(102,126,234,0.05) 100%);
}

.page-thumbnail {
    width: 80px;
    height: 60px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.thumb-content {
    font-size: 10px;
    font-weight: 600;
    color: #FF6900;
    text-align: center;
}

.page-info {
    flex: 1;
}

.page-info h4 {
    margin: 0 0 8px 0;
    font-size: 16px;
}

.page-meta {
    display: flex;
    gap: 15px;
    margin-bottom: 8px;
}

.page-status {
    padding: 2px 6px;
    border-radius: 8px;
    font-size: 10px;
    font-weight: 600;
}

.page-status.active {
    background: rgba(82, 196, 26, 0.2);
    color: #52C41A;
}

.page-status.draft {
    background: rgba(250, 173, 20, 0.2);
    color: #FAAD14;
}

.page-visits,
.page-conversion {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.6);
}

.page-date {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.5);
}

.page-actions {
    display: flex;
    gap: 8px;
}

.page-btn {
    padding: 6px 12px;
    border: none;
    border-radius: 6px;
    font-size: 11px;
    cursor: pointer;
    transition: all 0.3s;
}

.page-btn.primary {
    background: linear-gradient(135deg, #FF6900 0%, #FF8C00 100%);
    color: white;
}

.page-btn.secondary {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.page-btn.analytics {
    background: rgba(24, 144, 255, 0.2);
    color: #1890FF;
    border: 1px solid rgba(24, 144, 255, 0.3);
}

.page-btn.success {
    background: rgba(82, 196, 26, 0.2);
    color: #52C41A;
    border: 1px solid rgba(82, 196, 26, 0.3);
}

.page-btn.danger {
    background: rgba(245, 34, 45, 0.2);
    color: #F5222D;
    border: 1px solid rgba(245, 34, 45, 0.3);
}

.performance-analysis {
    margin-bottom: 30px;
}

.analysis-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 20px;
}

.analysis-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 20px;
}

.analysis-card h4 {
    margin: 0 0 15px 0;
    font-size: 16px;
    color: #FF6900;
}

.heatmap-container {
    position: relative;
    width: 100%;
    height: 200px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    overflow: hidden;
}

.heatmap-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}

.heat-point {
    position: absolute;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    cursor: pointer;
    animation: pulse 2s infinite;
}

.heat-point.hot {
    background: radial-gradient(circle, rgba(245,34,45,0.8) 0%, rgba(245,34,45,0.2) 70%);
}

.heat-point.warm {
    background: radial-gradient(circle, rgba(250,173,20,0.8) 0%, rgba(250,173,20,0.2) 70%);
}

.heat-point.cool {
    background: radial-gradient(circle, rgba(24,144,255,0.8) 0%, rgba(24,144,255,0.2) 70%);
}

.heatmap-legend {
    position: absolute;
    bottom: 10px;
    left: 10px;
    display: flex;
    gap: 15px;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 11px;
    color: rgba(255, 255, 255, 0.7);
}

.dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.dot.hot { background: #F5222D; }
.dot.warm { background: #FAAD14; }
.dot.cool { background: #1890FF; }

@keyframes pulse {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.2); opacity: 0.7; }
    100% { transform: scale(1); opacity: 1; }
}

/* Modal Styles */
.modal-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
}

.modal-content {
    position: relative;
    background: linear-gradient(135deg, #1a1f3a 0%, #0a0e27 100%);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 16px;
    width: 90%;
    max-width: 800px;
    max-height: 85vh;
    overflow: hidden;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    animation: modalSlideIn 0.3s ease-out;
}

@keyframes modalSlideIn {
    from {
        opacity: 0;
        transform: translateY(-30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 30px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(255, 255, 255, 0.03);
}

.modal-header h3 {
    font-size: 20px;
    color: #FF6900;
    margin: 0;
}

.modal-close {
    width: 36px;
    height: 36px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    color: white;
    font-size: 24px;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-close:hover {
    background: rgba(245, 34, 45, 0.2);
    border-color: #F5222D;
    transform: rotate(90deg);
}

.modal-body {
    padding: 30px;
    overflow-y: auto;
    max-height: calc(85vh - 80px);
}

/* Component Template Styles */
.component-templates {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.template-card {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    overflow: hidden;
    transition: all 0.3s;
    cursor: pointer;
}

.template-card:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: #FF6900;
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.template-preview {
    height: 180px;
    background: rgba(255, 255, 255, 0.03);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 48px;
}

.template-info {
    padding: 15px;
}

.template-name {
    font-size: 14px;
    font-weight: 600;
    color: white;
    margin-bottom: 5px;
}

.template-desc {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
}

/* Form Styles */
.form-group {
    margin-bottom: 20px;
}

.form-label {
    display: block;
    font-size: 12px;
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 8px;
}

.form-input,
.form-textarea,
.form-select {
    width: 100%;
    padding: 10px 15px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    color: white;
    font-size: 14px;
    transition: all 0.3s;
}

.form-input:focus,
.form-textarea:focus,
.form-select:focus {
    outline: none;
    border-color: #FF6900;
    background: rgba(255, 255, 255, 0.08);
    box-shadow: 0 0 0 3px rgba(255, 105, 0, 0.1);
}

.form-textarea {
    min-height: 120px;
    resize: vertical;
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
}

.form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.btn {
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s;
}

.btn-primary {
    background: linear-gradient(135deg, #FF6900 0%, #FF8C00 100%);
    color: white;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 20px rgba(255, 105, 0, 0.3);
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.1);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.15);
}

/* Checkbox and Radio Styles */
.checkbox-group,
.radio-group {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
}

.checkbox-label,
.radio-label {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    color: rgba(255, 255, 255, 0.8);
    cursor: pointer;
}

.checkbox-label input[type="checkbox"],
.radio-label input[type="radio"] {
    width: 16px;
    height: 16px;
    cursor: pointer;
}

/* Color Picker */
.color-picker-group {
    display: flex;
    align-items: center;
    gap: 15px;
}

.color-preview {
    width: 40px;
    height: 40px;
    border-radius: 8px;
    border: 2px solid rgba(255, 255, 255, 0.2);
}

/* File Upload */
.file-upload {
    position: relative;
    display: inline-block;
    cursor: pointer;
    width: 100%;
}

.file-upload input[type="file"] {
    position: absolute;
    opacity: 0;
    width: 100%;
    height: 100%;
    cursor: pointer;
}

.file-upload-label {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 40px;
    background: rgba(255, 255, 255, 0.03);
    border: 2px dashed rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    transition: all 0.3s;
}

.file-upload:hover .file-upload-label {
    background: rgba(255, 255, 255, 0.05);
    border-color: #FF6900;
}

.file-upload-icon {
    font-size: 32px;
}

.file-upload-text {
    font-size: 14px;
    color: rgba(255, 255, 255, 0.8);
}

@media (max-width: 768px) {
    .editor-layout {
        grid-template-columns: 1fr;
        height: auto;
    }
    
    .component-library,
    .properties-panel {
        order: 2;
    }
    
    .canvas-area {
        order: 1;
        height: 400px;
    }
    
    .stats-grid {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    }
    
    .analysis-grid {
        grid-template-columns: 1fr;
    }
}
</style>

<script>
// 初始化转化漏斗图表
function initConversionFunnel() {
    const chart = echarts.init(document.getElementById('conversionFunnel'));
    
    const option = {
        backgroundColor: 'transparent',
        tooltip: {
            trigger: 'item',
            formatter: '{a} <br/>{b}: {c} ({d}%)',
            backgroundColor: 'rgba(0,0,0,0.8)',
            borderColor: '#FF6900',
            borderWidth: 1,
            textStyle: { color: '#fff' }
        },
        series: [{
            name: '转化漏斗',
            type: 'funnel',
            left: '10%',
            width: '80%',
            maxSize: '80%',
            data: [
                { value: 10000, name: '页面访问' },
                { value: 3200, name: '内容浏览' },
                { value: 1800, name: '产品详情' },
                { value: 980, name: '添加购物车' },
                { value: 850, name: '完成购买' }
            ],
            itemStyle: {
                color: function(params) {
                    const colors = ['#FF6900', '#667eea', '#52C41A', '#1890FF', '#FAAD14'];
                    return colors[params.dataIndex];
                }
            },
            label: {
                show: true,
                position: 'inside',
                formatter: '{b}: {c}',
                textStyle: {
                    color: '#fff',
                    fontSize: 12
                }
            }
        }]
    };
    
    chart.setOption(option);
    window.addEventListener('resize', () => chart.resize());
}

// 组件管理函数
function switchComponentCategory(category) {
    document.querySelectorAll('.category-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    event.target.classList.add('active');
    
    // 这里可以切换不同的组件库内容
    console.log('切换组件分类:', category);
}

function editComponent(id) {
    console.log('编辑组件:', id);
    // 在属性面板中显示组件的设置选项
}

function deleteComponent(id) {
    if (confirm('确定要删除这个组件吗？')) {
        const component = document.querySelector(`[data-component-id="${id}"]`);
        if (component) {
            component.remove();
        }
    }
}

// 工具栏函数
function undoAction() { console.log('撤销操作'); }
function redoAction() { console.log('重做操作'); }
function previewPage() { 
    console.log('预览页面');
    // 可以打开新窗口显示页面预览
}
function savePage() { console.log('保存页面'); }
function publishPage() { console.log('发布页面'); }

// 设备响应式切换
function setDevice(device) {
    document.querySelectorAll('.device-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    event.target.classList.add('active');
    
    const canvas = document.getElementById('pageCanvas');
    switch(device) {
        case 'desktop':
            canvas.style.maxWidth = '100%';
            break;
        case 'tablet':
            canvas.style.maxWidth = '768px';
            break;
        case 'mobile':
            canvas.style.maxWidth = '375px';
            break;
    }
    console.log('切换设备视图:', device);
}

// 样式更新
function updateStyle(property, value) {
    console.log('更新样式:', property, value);
    // 更新选中组件的样式
}

function updateAnimation(animation) {
    console.log('更新动画:', animation);
    // 为选中组件添加动画效果
}

// A/B测试
function createVariant() {
    console.log('创建A/B测试变体');
}

function editVariant(variant) {
    console.log('编辑变体:', variant);
}

// Modal Functions
function showModal(title, content) {
    document.getElementById('modalTitle').textContent = title;
    document.getElementById('modalBody').innerHTML = content;
    document.getElementById('modalContainer').style.display = 'flex';
}

function closeModal() {
    document.getElementById('modalContainer').style.display = 'none';
}

// Component Modal Content
function showComponentModal(type) {
    let title = '';
    let content = '';
    
    switch(type) {
        case 'hero':
            title = '🎯 Hero 英雄区组件配置';
            content = getHeroModalContent();
            break;
        case 'grid':
            title = '🔲 Grid 特性网格配置';
            content = getGridModalContent();
            break;
        case 'table':
            title = '📊 Table 对比表格配置';
            content = getTableModalContent();
            break;
        case 'quote':
            title = '💬 Quote 用户评价配置';
            content = getQuoteModalContent();
            break;
        case 'cta':
            title = '🎯 CTA 行动号召配置';
            content = getCTAModalContent();
            break;
        case 'faq':
            title = '❓ FAQ 常见问题配置';
            content = getFAQModalContent();
            break;
    }
    
    showModal(title, content);
}

// Hero Modal Content
function getHeroModalContent() {
    return `
        <div class="component-templates">
            <div class="template-card" onclick="selectHeroTemplate('standard')">
                <div class="template-preview">🌟</div>
                <div class="template-info">
                    <div class="template-name">标准英雄区</div>
                    <div class="template-desc">经典居中布局，适合产品展示</div>
                </div>
            </div>
            <div class="template-card" onclick="selectHeroTemplate('split')">
                <div class="template-preview">🎨</div>
                <div class="template-info">
                    <div class="template-name">分栏英雄区</div>
                    <div class="template-desc">左文右图布局，内容丰富</div>
                </div>
            </div>
            <div class="template-card" onclick="selectHeroTemplate('video')">
                <div class="template-preview">🎬</div>
                <div class="template-info">
                    <div class="template-name">视频背景英雄区</div>
                    <div class="template-desc">动态视频背景，视觉冲击力强</div>
                </div>
            </div>
        </div>
        
        <form id="heroForm">
            <div class="form-group">
                <label class="form-label">标题文案</label>
                <input type="text" class="form-input" placeholder="输入主标题，如：Eufy Omni E28" value="Eufy Omni E28">
            </div>
            
            <div class="form-group">
                <label class="form-label">副标题</label>
                <input type="text" class="form-input" placeholder="输入副标题" value="革命性FlexiOne手持清洁技术">
            </div>
            
            <div class="form-group">
                <label class="form-label">描述文字</label>
                <textarea class="form-textarea" placeholder="输入产品描述">唯一配备可拆卸手持清洁器的智能扫地机器人，让清洁无死角</textarea>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">按钮文字</label>
                    <input type="text" class="form-input" value="立即了解">
                </div>
                <div class="form-group">
                    <label class="form-label">按钮链接</label>
                    <input type="text" class="form-input" placeholder="https://" value="#product-detail">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">背景图片</label>
                <div class="file-upload">
                    <input type="file" id="heroImage" accept="image/*">
                    <div class="file-upload-label">
                        <span class="file-upload-icon">📁</span>
                        <span class="file-upload-text">点击上传或拖拽图片到此处</span>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">高度设置</label>
                <div class="radio-group">
                    <label class="radio-label">
                        <input type="radio" name="heroHeight" value="full" checked> 全屏高度
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="heroHeight" value="large"> 大尺寸 (80vh)
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="heroHeight" value="medium"> 中等尺寸 (60vh)
                    </label>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal()">取消</button>
                <button type="button" class="btn btn-primary" onclick="insertHeroComponent()">插入组件</button>
            </div>
        </form>
    `;
}

// Grid Modal Content
function getGridModalContent() {
    return `
        <div class="component-templates">
            <div class="template-card" onclick="selectGridTemplate('features')">
                <div class="template-preview">🎯</div>
                <div class="template-info">
                    <div class="template-name">特性网格</div>
                    <div class="template-desc">展示产品核心功能</div>
                </div>
            </div>
            <div class="template-card" onclick="selectGridTemplate('team')">
                <div class="template-preview">👥</div>
                <div class="template-info">
                    <div class="template-name">团队展示</div>
                    <div class="template-desc">展示团队成员信息</div>
                </div>
            </div>
            <div class="template-card" onclick="selectGridTemplate('products')">
                <div class="template-preview">📦</div>
                <div class="template-info">
                    <div class="template-name">产品网格</div>
                    <div class="template-desc">产品列表展示</div>
                </div>
            </div>
        </div>
        
        <form id="gridForm">
            <div class="form-group">
                <label class="form-label">网格列数</label>
                <select class="form-select">
                    <option value="2">2列</option>
                    <option value="3">3列</option>
                    <option value="4" selected>4列</option>
                    <option value="6">6列</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">网格项目（可添加多个）</label>
                <div id="gridItems">
                    <div class="grid-item-form" style="margin-bottom: 15px;">
                        <input type="text" class="form-input" placeholder="图标（emoji）" value="💨" style="width: 80px; display: inline-block;">
                        <input type="text" class="form-input" placeholder="标题" value="20,000Pa吸力" style="width: calc(100% - 100px); display: inline-block; margin-left: 10px;">
                        <textarea class="form-textarea" placeholder="描述" style="margin-top: 10px; min-height: 60px;">强劲吸力，深度清洁</textarea>
                    </div>
                </div>
                <button type="button" class="btn btn-secondary" onclick="addGridItem()">+ 添加项目</button>
            </div>
            
            <div class="form-group">
                <label class="form-label">网格间距</label>
                <input type="range" min="10" max="50" value="20" onchange="updateGridGap(this.value)">
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal()">取消</button>
                <button type="button" class="btn btn-primary" onclick="insertGridComponent()">插入组件</button>
            </div>
        </form>
    `;
}

// Table Modal Content
function getTableModalContent() {
    return `
        <form id="tableForm">
            <div class="form-group">
                <label class="form-label">表格标题</label>
                <input type="text" class="form-input" placeholder="输入表格标题" value="E28 vs 竞品对比">
            </div>
            
            <div class="form-group">
                <label class="form-label">对比产品数量</label>
                <select class="form-select" onchange="updateTableColumns(this.value)">
                    <option value="2">2个产品对比</option>
                    <option value="3" selected>3个产品对比</option>
                    <option value="4">4个产品对比</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">产品名称</label>
                <div class="form-row">
                    <input type="text" class="form-input" placeholder="产品1" value="Eufy Omni E28">
                    <input type="text" class="form-input" placeholder="产品2" value="竞品A">
                    <input type="text" class="form-input" placeholder="产品3" value="竞品B">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">对比维度（可添加多个）</label>
                <div id="tableRows">
                    <div class="table-row-form" style="margin-bottom: 10px;">
                        <input type="text" class="form-input" placeholder="对比项" value="吸力">
                        <div class="form-row" style="margin-top: 5px;">
                            <input type="text" class="form-input" placeholder="产品1数据" value="20,000Pa">
                            <input type="text" class="form-input" placeholder="产品2数据" value="15,000Pa">
                            <input type="text" class="form-input" placeholder="产品3数据" value="12,000Pa">
                        </div>
                    </div>
                </div>
                <button type="button" class="btn btn-secondary" onclick="addTableRow()">+ 添加对比项</button>
            </div>
            
            <div class="form-group">
                <label class="form-label">高亮推荐产品</label>
                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" checked> 高亮显示第一个产品（推荐）
                    </label>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal()">取消</button>
                <button type="button" class="btn btn-primary" onclick="insertTableComponent()">插入组件</button>
            </div>
        </form>
    `;
}

// Quote Modal Content
function getQuoteModalContent() {
    return `
        <form id="quoteForm">
            <div class="form-group">
                <label class="form-label">评价内容</label>
                <textarea class="form-textarea" placeholder="输入用户评价内容">"E28的FlexiOne手持清洁器真的太方便了！以前扫地机器人够不到的地方，现在都能轻松清洁。"</textarea>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">用户姓名</label>
                    <input type="text" class="form-input" placeholder="输入用户姓名" value="张女士">
                </div>
                <div class="form-group">
                    <label class="form-label">用户身份</label>
                    <input type="text" class="form-input" placeholder="如：资深用户" value="E28早期用户">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">用户头像</label>
                <div class="file-upload">
                    <input type="file" accept="image/*">
                    <div class="file-upload-label">
                        <span class="file-upload-icon">👤</span>
                        <span class="file-upload-text">上传用户头像（可选）</span>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">评分</label>
                <div class="radio-group">
                    <label class="radio-label">
                        <input type="radio" name="rating" value="5" checked> ⭐⭐⭐⭐⭐
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="rating" value="4"> ⭐⭐⭐⭐
                    </label>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">样式选择</label>
                <div class="radio-group">
                    <label class="radio-label">
                        <input type="radio" name="quoteStyle" value="card" checked> 卡片样式
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="quoteStyle" value="minimal"> 简约样式
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="quoteStyle" value="featured"> 特色样式
                    </label>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal()">取消</button>
                <button type="button" class="btn btn-primary" onclick="insertQuoteComponent()">插入组件</button>
            </div>
        </form>
    `;
}

// CTA Modal Content
function getCTAModalContent() {
    return `
        <form id="ctaForm">
            <div class="form-group">
                <label class="form-label">CTA标题</label>
                <input type="text" class="form-input" placeholder="输入行动号召标题" value="准备好体验智能清洁了吗？">
            </div>
            
            <div class="form-group">
                <label class="form-label">描述文字</label>
                <textarea class="form-textarea" placeholder="输入描述文字（可选）">立即购买Eufy Omni E28，享受限时优惠和免费配件赠送。</textarea>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">主按钮文字</label>
                    <input type="text" class="form-input" value="立即购买">
                </div>
                <div class="form-group">
                    <label class="form-label">主按钮链接</label>
                    <input type="text" class="form-input" placeholder="https://" value="#buy-now">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">副按钮文字（可选）</label>
                    <input type="text" class="form-input" placeholder="留空则不显示" value="了解更多">
                </div>
                <div class="form-group">
                    <label class="form-label">副按钮链接</label>
                    <input type="text" class="form-input" placeholder="https://" value="#learn-more">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">背景样式</label>
                <div class="color-picker-group">
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="ctaBg" value="gradient" checked> 渐变背景
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="ctaBg" value="solid"> 纯色背景
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="ctaBg" value="image"> 图片背景
                        </label>
                    </div>
                    <input type="color" class="form-input" value="#FF6900" style="width: 60px;">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">对齐方式</label>
                <div class="radio-group">
                    <label class="radio-label">
                        <input type="radio" name="ctaAlign" value="center" checked> 居中对齐
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="ctaAlign" value="left"> 左对齐
                    </label>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal()">取消</button>
                <button type="button" class="btn btn-primary" onclick="insertCTAComponent()">插入组件</button>
            </div>
        </form>
    `;
}

// FAQ Modal Content
function getFAQModalContent() {
    return `
        <form id="faqForm">
            <div class="form-group">
                <label class="form-label">FAQ标题</label>
                <input type="text" class="form-input" placeholder="输入FAQ部分标题" value="常见问题">
            </div>
            
            <div class="form-group">
                <label class="form-label">问答项目（可添加多个）</label>
                <div id="faqItems">
                    <div class="faq-item-form" style="margin-bottom: 15px; padding: 15px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                        <input type="text" class="form-input" placeholder="问题" value="E28的FlexiOne手持清洁器电池续航如何？" style="margin-bottom: 10px;">
                        <textarea class="form-textarea" placeholder="答案" style="min-height: 80px;">FlexiOne手持清洁器配备高能量密度电池，单次充满可连续使用30分钟，足够完成日常清洁任务。充电时间仅需2.5小时。</textarea>
                    </div>
                    <div class="faq-item-form" style="margin-bottom: 15px; padding: 15px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                        <input type="text" class="form-input" placeholder="问题" value="E28支持哪些智能家居平台？" style="margin-bottom: 10px;">
                        <textarea class="form-textarea" placeholder="答案" style="min-height: 80px;">E28支持Amazon Alexa、Google Assistant和Apple HomeKit，可以通过语音命令控制清洁任务。</textarea>
                    </div>
                </div>
                <button type="button" class="btn btn-secondary" onclick="addFAQItem()">+ 添加问答</button>
            </div>
            
            <div class="form-group">
                <label class="form-label">展开样式</label>
                <div class="radio-group">
                    <label class="radio-label">
                        <input type="radio" name="faqStyle" value="accordion" checked> 手风琴（同时只展开一个）
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="faqStyle" value="expandable"> 可展开（可同时展开多个）
                    </label>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">图标样式</label>
                <div class="radio-group">
                    <label class="radio-label">
                        <input type="radio" name="faqIcon" value="plus" checked> 加号/减号
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="faqIcon" value="arrow"> 箭头
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="faqIcon" value="chevron"> 尖角
                    </label>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal()">取消</button>
                <button type="button" class="btn btn-primary" onclick="insertFAQComponent()">插入组件</button>
            </div>
        </form>
    `;
}

// 页面管理函数
function createNewPage() {
    const content = `
        <form id="newPageForm">
            <div class="form-group">
                <label class="form-label">页面名称</label>
                <input type="text" class="form-input" placeholder="输入页面名称" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">页面URL</label>
                <input type="text" class="form-input" placeholder="例如：/products/e28-features" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">页面模板</label>
                <select class="form-select">
                    <option value="blank">空白页面</option>
                    <option value="product">产品展示模板</option>
                    <option value="landing">营销落地页模板</option>
                    <option value="comparison">对比页面模板</option>
                    <option value="faq">FAQ页面模板</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">SEO设置</label>
                <input type="text" class="form-input" placeholder="页面标题（Title）" style="margin-bottom: 10px;">
                <textarea class="form-textarea" placeholder="页面描述（Meta Description）" style="min-height: 80px;"></textarea>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal()">取消</button>
                <button type="button" class="btn btn-primary" onclick="doCreateNewPage()">创建页面</button>
            </div>
        </form>
    `;
    showModal('✨ 新建页面', content);
}

function importTemplate() {
    const content = `
        <div class="component-templates">
            <div class="template-card" onclick="selectTemplate('product-showcase')">
                <div class="template-preview">🎯</div>
                <div class="template-info">
                    <div class="template-name">产品展示页</div>
                    <div class="template-desc">完整的产品介绍页面模板</div>
                </div>
            </div>
            <div class="template-card" onclick="selectTemplate('comparison')">
                <div class="template-preview">📊</div>
                <div class="template-info">
                    <div class="template-name">产品对比页</div>
                    <div class="template-desc">多产品对比展示模板</div>
                </div>
            </div>
            <div class="template-card" onclick="selectTemplate('landing')">
                <div class="template-preview">🚀</div>
                <div class="template-info">
                    <div class="template-name">营销落地页</div>
                    <div class="template-desc">高转化率营销页面模板</div>
                </div>
            </div>
            <div class="template-card" onclick="selectTemplate('faq')">
                <div class="template-preview">❓</div>
                <div class="template-info">
                    <div class="template-name">FAQ页面</div>
                    <div class="template-desc">常见问题解答页面模板</div>
                </div>
            </div>
            <div class="template-card" onclick="selectTemplate('testimonial')">
                <div class="template-preview">⭐</div>
                <div class="template-info">
                    <div class="template-name">用户评价页</div>
                    <div class="template-desc">用户评价展示页面模板</div>
                </div>
            </div>
            <div class="template-card">
                <div class="template-preview">📁</div>
                <div class="template-info">
                    <div class="template-name">自定义导入</div>
                    <div class="template-desc">从文件导入模板</div>
                </div>
            </div>
        </div>
        
        <div class="form-group" style="margin-top: 30px;">
            <label class="form-label">或从URL导入模板</label>
            <input type="text" class="form-input" placeholder="输入模板URL">
        </div>
        
        <div class="form-actions">
            <button type="button" class="btn btn-secondary" onclick="closeModal()">取消</button>
            <button type="button" class="btn btn-primary" onclick="doImportTemplate()">导入模板</button>
        </div>
    `;
    showModal('📥 导入模板', content);
}

function exportPages() {
    const content = `
        <form id="exportForm">
            <div class="form-group">
                <label class="form-label">选择要导出的页面</label>
                <div class="checkbox-group" style="flex-direction: column; gap: 10px;">
                    <label class="checkbox-label">
                        <input type="checkbox" checked> E28 FlexiOne功能页面
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" checked> E28 vs 竞品对比页面
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox"> HydroJet拖布技术说明（草稿）
                    </label>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">导出格式</label>
                <div class="radio-group">
                    <label class="radio-label">
                        <input type="radio" name="exportFormat" value="html" checked> HTML文件
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="exportFormat" value="json"> JSON数据
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="exportFormat" value="package"> 完整包（含资源）
                    </label>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">导出选项</label>
                <div class="checkbox-group" style="flex-direction: column; gap: 10px;">
                    <label class="checkbox-label">
                        <input type="checkbox" checked> 包含样式文件
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" checked> 包含JavaScript
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox"> 压缩代码
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox"> 包含编辑器数据
                    </label>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal()">取消</button>
                <button type="button" class="btn btn-primary" onclick="doExportPages()">导出页面</button>
            </div>
        </form>
    `;
    showModal('📤 导出页面', content);
}
function editPage(id) { console.log('编辑页面:', id); }
function duplicatePage(id) { console.log('复制页面:', id); }
function viewAnalytics(id) { console.log('查看分析:', id); }
function deletePage(id) {
    if (confirm('确定要删除这个页面吗？')) {
        console.log('删除页面:', id);
    }
}

// Helper Functions
function addGridItem() {
    const gridItems = document.getElementById('gridItems');
    const newItem = document.createElement('div');
    newItem.className = 'grid-item-form';
    newItem.style.marginBottom = '15px';
    newItem.innerHTML = `
        <input type="text" class="form-input" placeholder="图标（emoji）" value="" style="width: 80px; display: inline-block;">
        <input type="text" class="form-input" placeholder="标题" value="" style="width: calc(100% - 100px); display: inline-block; margin-left: 10px;">
        <textarea class="form-textarea" placeholder="描述" style="margin-top: 10px; min-height: 60px;"></textarea>
        <button type="button" class="btn btn-danger" onclick="this.parentElement.remove()" style="margin-top: 5px; padding: 5px 10px; font-size: 12px;">删除</button>
    `;
    gridItems.appendChild(newItem);
}

function addTableRow() {
    const tableRows = document.getElementById('tableRows');
    const newRow = document.createElement('div');
    newRow.className = 'table-row-form';
    newRow.style.marginBottom = '10px';
    newRow.innerHTML = `
        <input type="text" class="form-input" placeholder="对比项" value="">
        <div class="form-row" style="margin-top: 5px;">
            <input type="text" class="form-input" placeholder="产品1数据" value="">
            <input type="text" class="form-input" placeholder="产品2数据" value="">
            <input type="text" class="form-input" placeholder="产品3数据" value="">
        </div>
        <button type="button" class="btn btn-danger" onclick="this.parentElement.remove()" style="margin-top: 5px; padding: 5px 10px; font-size: 12px;">删除</button>
    `;
    tableRows.appendChild(newRow);
}

function addFAQItem() {
    const faqItems = document.getElementById('faqItems');
    const newItem = document.createElement('div');
    newItem.className = 'faq-item-form';
    newItem.style.cssText = 'margin-bottom: 15px; padding: 15px; background: rgba(255,255,255,0.03); border-radius: 8px;';
    newItem.innerHTML = `
        <input type="text" class="form-input" placeholder="问题" value="" style="margin-bottom: 10px;">
        <textarea class="form-textarea" placeholder="答案" style="min-height: 80px;"></textarea>
        <button type="button" class="btn btn-danger" onclick="this.parentElement.remove()" style="margin-top: 5px; padding: 5px 10px; font-size: 12px;">删除</button>
    `;
    faqItems.appendChild(newItem);
}

// Component Insert Functions
function insertHeroComponent() {
    console.log('插入Hero组件');
    // 实际应用中，这里会将配置的组件插入到画布中
    alert('Hero组件已配置完成！');
    closeModal();
}

function insertGridComponent() {
    console.log('插入Grid组件');
    alert('Grid组件已配置完成！');
    closeModal();
}

function insertTableComponent() {
    console.log('插入Table组件');
    alert('对比表格组件已配置完成！');
    closeModal();
}

function insertQuoteComponent() {
    console.log('插入Quote组件');
    alert('用户评价组件已配置完成！');
    closeModal();
}

function insertCTAComponent() {
    console.log('插入CTA组件');
    alert('行动号召组件已配置完成！');
    closeModal();
}

function insertFAQComponent() {
    console.log('插入FAQ组件');
    alert('常见问题组件已配置完成！');
    closeModal();
}

// Template Selection Functions
function selectHeroTemplate(type) {
    console.log('选择Hero模板:', type);
    document.querySelectorAll('.template-card').forEach(card => {
        card.style.border = '1px solid rgba(255, 255, 255, 0.1)';
    });
    event.currentTarget.style.border = '2px solid #FF6900';
}

function selectGridTemplate(type) {
    console.log('选择Grid模板:', type);
    document.querySelectorAll('.template-card').forEach(card => {
        card.style.border = '1px solid rgba(255, 255, 255, 0.1)';
    });
    event.currentTarget.style.border = '2px solid #FF6900';
}

function selectTemplate(type) {
    console.log('选择页面模板:', type);
    document.querySelectorAll('.template-card').forEach(card => {
        card.style.border = '1px solid rgba(255, 255, 255, 0.1)';
    });
    event.currentTarget.style.border = '2px solid #FF6900';
}

// Page Management Actions
function doCreateNewPage() {
    console.log('创建新页面');
    alert('新页面创建成功！');
    closeModal();
}

function doImportTemplate() {
    console.log('导入模板');
    alert('模板导入成功！');
    closeModal();
}

function doExportPages() {
    console.log('导出页面');
    alert('页面导出成功！文件已下载。');
    closeModal();
}

// Update functions for live preview
function updateGridGap(value) {
    console.log('更新网格间距:', value);
}

function updateTableColumns(count) {
    console.log('更新表格列数:', count);
}

// 页面加载时初始化图表
if (typeof echarts !== 'undefined') {
    setTimeout(initConversionFunnel, 100);
}

// Add button danger style
const style = document.createElement('style');
style.textContent = `
    .btn-danger {
        background: rgba(245, 34, 45, 0.2);
        color: #F5222D;
        border: 1px solid rgba(245, 34, 45, 0.3);
    }
    .btn-danger:hover {
        background: rgba(245, 34, 45, 0.3);
    }
`;
document.head.appendChild(style);
</script>