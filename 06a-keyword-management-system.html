<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyword Management System - Eufy GEO Platform</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .navbar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 1rem 2rem;
            color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .navbar h1 {
            font-size: 24px;
            font-weight: 600;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .header-section {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }
        
        .header-info h2 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 28px;
        }
        
        .header-actions {
            display: flex;
            gap: 1rem;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-secondary {
            background: #f8f9fa;
            color: #666;
            border: 1px solid #e9ecef;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        
        .stat-card.p0 {
            border-top: 4px solid #ff4757;
        }
        
        .stat-card.p1 {
            border-top: 4px solid #ffa502;
        }
        
        .stat-card.p2 {
            border-top: 4px solid #3742fa;
        }
        
        .stat-card.p3 {
            border-top: 4px solid #2ed573;
        }
        
        .stat-card.p4 {
            border-top: 4px solid #747d8c;
        }
        
        .stat-card.p5 {
            border-top: 4px solid #95a5a6;
        }
        
        .stat-number {
            font-size: 36px;
            font-weight: bold;
            color: #333;
            margin: 0.5rem 0;
        }
        
        .stat-label {
            color: #666;
            font-size: 14px;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .chart-container {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .chart-container h3 {
            margin-bottom: 1rem;
            color: #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chart-box {
            height: 400px;
        }
        
        .keyword-table-section {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .search-filters {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .search-input {
            padding: 0.5rem 1rem;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            width: 250px;
        }
        
        .filter-select {
            padding: 0.5rem 1rem;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            cursor: pointer;
        }
        
        .keywords-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        
        .keywords-table th {
            background: #f8f9fa;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: #555;
            border-bottom: 2px solid #e9ecef;
            position: sticky;
            top: 0;
        }
        
        .keywords-table td {
            padding: 1rem;
            border-bottom: 1px solid #e9ecef;
        }
        
        .keywords-table tr:hover {
            background: #f8f9fa;
        }
        
        .priority-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }
        
        .priority-badge.p0 {
            background: #ffebef;
            color: #ff4757;
        }
        
        .priority-badge.p1 {
            background: #fff4e5;
            color: #ffa502;
        }
        
        .priority-badge.p2 {
            background: #e8eaff;
            color: #3742fa;
        }
        
        .priority-badge.p3 {
            background: #e8f8f0;
            color: #2ed573;
        }
        
        .priority-badge.p4 {
            background: #f1f2f6;
            color: #747d8c;
        }
        
        .priority-badge.p5 {
            background: #ecf0f1;
            color: #95a5a6;
        }
        
        .aio-score {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .score-bar {
            width: 50px;
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .score-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        
        .score-high {
            background: #2ed573;
        }
        
        .score-medium {
            background: #ffa502;
        }
        
        .score-low {
            background: #ff4757;
        }
        
        .ranking-trend {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .trend-arrow {
            font-size: 16px;
        }
        
        .trend-up {
            color: #2ed573;
        }
        
        .trend-down {
            color: #ff4757;
        }
        
        .trend-stable {
            color: #95a5a6;
        }
        
        .import-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .upload-area {
            border: 2px dashed #e9ecef;
            border-radius: 8px;
            padding: 3rem;
            text-align: center;
            margin: 1rem 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upload-area:hover {
            border-color: #667eea;
            background: #f8f9fa;
        }
        
        .upload-area.dragover {
            border-color: #667eea;
            background: #e8eaff;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            margin-top: 2rem;
        }
        
        .page-btn {
            padding: 0.5rem 1rem;
            border: 1px solid #e9ecef;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .page-btn:hover,
        .page-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <h1>Keyword Management System - Eufy GEO Platform</h1>
    </nav>

    <div class="container">
        <!-- Header Section -->
        <div class="header-section">
            <div class="header-info">
                <h2>Keyword Management Dashboard</h2>
                <p>Manage and optimize your keyword portfolio with P0-P5 prioritization and AIO adaptation analysis</p>
            </div>
            <div class="header-actions">
                <button class="btn btn-secondary" onclick="showImportModal()">
                    üì• Import Keywords
                </button>
                <button class="btn btn-primary" onclick="exportKeywords()">
                    üì§ Export Data
                </button>
            </div>
        </div>

        <!-- Statistics Grid -->
        <div class="stats-grid">
            <div class="stat-card p0">
                <div class="stat-label">P0 Critical Priority</div>
                <div class="stat-number">12</div>
                <div class="stat-label">Search Volume > 100K</div>
            </div>
            <div class="stat-card p1">
                <div class="stat-label">P1 High Priority</div>
                <div class="stat-number">28</div>
                <div class="stat-label">Search Volume 50K-100K</div>
            </div>
            <div class="stat-card p2">
                <div class="stat-label">P2 Medium-High Priority</div>
                <div class="stat-number">45</div>
                <div class="stat-label">Search Volume 20K-50K</div>
            </div>
            <div class="stat-card p3">
                <div class="stat-label">P3 Medium Priority</div>
                <div class="stat-number">78</div>
                <div class="stat-label">Search Volume 10K-20K</div>
            </div>
            <div class="stat-card p4">
                <div class="stat-label">P4 Low Priority</div>
                <div class="stat-number">156</div>
                <div class="stat-label">Search Volume 5K-10K</div>
            </div>
            <div class="stat-card p5">
                <div class="stat-label">P5 Long-tail</div>
                <div class="stat-number">892</div>
                <div class="stat-label">Search Volume < 5K</div>
            </div>
        </div>

        <!-- Dashboard Charts -->
        <div class="dashboard-grid">
            <div class="chart-container">
                <h3>
                    Keyword Priority Distribution
                    <span style="font-size: 14px; font-weight: normal; color: #666;">Total: 1,211 keywords</span>
                </h3>
                <div id="priorityChart" class="chart-box"></div>
            </div>
            <div class="chart-container">
                <h3>AIO Adaptation Score Distribution</h3>
                <div id="aioChart" class="chart-box"></div>
            </div>
        </div>

        <!-- Ranking Performance Chart -->
        <div class="chart-container">
            <h3>Top Keywords Ranking Performance (30 Days)</h3>
            <div id="rankingChart" class="chart-box"></div>
        </div>

        <!-- Keywords Table -->
        <div class="keyword-table-section">
            <div class="table-header">
                <h3>Keyword Portfolio Management</h3>
                <div class="search-filters">
                    <input type="text" class="search-input" placeholder="Search keywords..." id="searchInput">
                    <select class="filter-select" id="priorityFilter">
                        <option value="">All Priorities</option>
                        <option value="P0">P0 Critical</option>
                        <option value="P1">P1 High</option>
                        <option value="P2">P2 Medium-High</option>
                        <option value="P3">P3 Medium</option>
                        <option value="P4">P4 Low</option>
                        <option value="P5">P5 Long-tail</option>
                    </select>
                    <select class="filter-select" id="aioFilter">
                        <option value="">All AIO Scores</option>
                        <option value="high">High (80-100)</option>
                        <option value="medium">Medium (50-79)</option>
                        <option value="low">Low (0-49)</option>
                    </select>
                </div>
            </div>
            
            <table class="keywords-table">
                <thead>
                    <tr>
                        <th>Keyword</th>
                        <th>Monthly Volume</th>
                        <th>Priority</th>
                        <th>Current Ranking</th>
                        <th>Ranking Trend</th>
                        <th>AIO Score</th>
                        <th>Competition</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="keywordsTableBody">
                    <!-- Table content will be populated by JavaScript -->
                </tbody>
            </table>
            
            <div class="pagination" id="pagination">
                <!-- Pagination will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Import Modal -->
    <div class="import-modal" id="importModal">
        <div class="modal-content">
            <h3>Import Keywords</h3>
            <p>Upload your keyword file in CSV or Excel format</p>
            
            <div class="upload-area" id="uploadArea">
                <div style="font-size: 48px; margin-bottom: 1rem;">üìÅ</div>
                <div style="font-size: 16px; font-weight: 600; margin-bottom: 0.5rem;">
                    Drag and drop your file here
                </div>
                <div style="font-size: 14px; color: #666;">
                    or click to browse (CSV, XLSX supported)
                </div>
                <input type="file" id="fileInput" accept=".csv,.xlsx" style="display: none;">
            </div>
            
            <div style="margin-top: 1rem;">
                <p style="font-size: 14px; color: #666; margin-bottom: 1rem;">
                    Required columns: keyword, search_volume, competition_score
                </p>
                <div style="display: flex; gap: 1rem; justify-content: flex-end;">
                    <button class="btn btn-secondary" onclick="hideImportModal()">Cancel</button>
                    <button class="btn btn-primary" onclick="downloadTemplate()">Download Template</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample keyword data
        const keywordsData = [
            {
                keyword: "eufy security camera",
                volume: 165000,
                priority: "P0",
                ranking: 3,
                trend: "up",
                trendValue: 2,
                aioScore: 85,
                competition: 78
            },
            {
                keyword: "best home security system",
                volume: 89000,
                priority: "P1",
                ranking: 7,
                trend: "up",
                trendValue: 3,
                aioScore: 92,
                competition: 82
            },
            {
                keyword: "outdoor security camera",
                volume: 56000,
                priority: "P1",
                ranking: 12,
                trend: "down",
                trendValue: -4,
                aioScore: 78,
                competition: 75
            },
            {
                keyword: "wireless doorbell camera",
                volume: 34000,
                priority: "P2",
                ranking: 8,
                trend: "stable",
                trendValue: 0,
                aioScore: 71,
                competition: 68
            },
            {
                keyword: "smart home security",
                volume: 28000,
                priority: "P2",
                ranking: 15,
                trend: "up",
                trendValue: 5,
                aioScore: 83,
                competition: 72
            },
            {
                keyword: "eufy homebase 3",
                volume: 18000,
                priority: "P3",
                ranking: 4,
                trend: "up",
                trendValue: 1,
                aioScore: 67,
                competition: 45
            },
            {
                keyword: "security camera installation",
                volume: 12000,
                priority: "P3",
                ranking: 22,
                trend: "down",
                trendValue: -8,
                aioScore: 89,
                competition: 65
            },
            {
                keyword: "eufy s340 review",
                volume: 8500,
                priority: "P4",
                ranking: 6,
                trend: "stable",
                trendValue: 0,
                aioScore: 54,
                competition: 38
            }
        ];

        let currentPage = 1;
        const itemsPerPage = 10;
        let filteredData = [...keywordsData];

        // Initialize charts
        function initCharts() {
            // Priority Distribution Chart
            const priorityChart = echarts.init(document.getElementById('priorityChart'));
            const priorityOption = {
                tooltip: {
                    trigger: 'item',
                    formatter: '{b}: {c} keywords ({d}%)'
                },
                legend: {
                    orient: 'vertical',
                    right: 10,
                    top: 'center'
                },
                series: [{
                    type: 'pie',
                    radius: ['40%', '70%'],
                    avoidLabelOverlap: false,
                    itemStyle: {
                        borderRadius: 10,
                        borderColor: '#fff',
                        borderWidth: 2
                    },
                    label: {
                        show: false,
                        position: 'center'
                    },
                    emphasis: {
                        label: {
                            show: true,
                            fontSize: '30',
                            fontWeight: 'bold'
                        }
                    },
                    labelLine: {
                        show: false
                    },
                    data: [
                        {value: 12, name: 'P0 Critical', itemStyle: {color: '#ff4757'}},
                        {value: 28, name: 'P1 High', itemStyle: {color: '#ffa502'}},
                        {value: 45, name: 'P2 Medium-High', itemStyle: {color: '#3742fa'}},
                        {value: 78, name: 'P3 Medium', itemStyle: {color: '#2ed573'}},
                        {value: 156, name: 'P4 Low', itemStyle: {color: '#747d8c'}},
                        {value: 892, name: 'P5 Long-tail', itemStyle: {color: '#95a5a6'}}
                    ]
                }]
            };
            priorityChart.setOption(priorityOption);

            // AIO Score Distribution Chart
            const aioChart = echarts.init(document.getElementById('aioChart'));
            const aioOption = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                xAxis: {
                    type: 'category',
                    data: ['0-20', '21-40', '41-60', '61-80', '81-100'],
                    axisLabel: {
                        fontSize: 12
                    }
                },
                yAxis: {
                    type: 'value',
                    name: 'Keywords'
                },
                series: [{
                    name: 'AIO Score Range',
                    type: 'bar',
                    data: [45, 123, 267, 445, 331],
                    itemStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            {offset: 0, color: '#667eea'},
                            {offset: 1, color: '#764ba2'}
                        ])
                    }
                }]
            };
            aioChart.setOption(aioOption);

            // Ranking Performance Chart
            const rankingChart = echarts.init(document.getElementById('rankingChart'));
            const rankingOption = {
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data: ['eufy security camera', 'best home security', 'outdoor camera', 'smart doorbell']
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: ['Sep 1', 'Sep 8', 'Sep 15', 'Sep 22', 'Sep 29', 'Oct 6', 'Oct 13']
                },
                yAxis: {
                    type: 'value',
                    inverse: true,
                    min: 1,
                    max: 30,
                    name: 'Ranking Position'
                },
                series: [
                    {
                        name: 'eufy security camera',
                        type: 'line',
                        data: [5, 4, 4, 3, 3, 3, 3],
                        itemStyle: {color: '#ff4757'}
                    },
                    {
                        name: 'best home security',
                        type: 'line',
                        data: [10, 9, 8, 7, 7, 7, 7],
                        itemStyle: {color: '#ffa502'}
                    },
                    {
                        name: 'outdoor camera',
                        type: 'line',
                        data: [8, 10, 12, 14, 12, 12, 12],
                        itemStyle: {color: '#3742fa'}
                    },
                    {
                        name: 'smart doorbell',
                        type: 'line',
                        data: [13, 12, 10, 8, 8, 8, 8],
                        itemStyle: {color: '#2ed573'}
                    }
                ]
            };
            rankingChart.setOption(rankingOption);

            // Make charts responsive
            window.addEventListener('resize', function() {
                priorityChart.resize();
                aioChart.resize();
                rankingChart.resize();
            });
        }

        // Render keywords table
        function renderTable() {
            const tbody = document.getElementById('keywordsTableBody');
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const pageData = filteredData.slice(startIndex, endIndex);

            tbody.innerHTML = pageData.map(keyword => `
                <tr>
                    <td><strong>${keyword.keyword}</strong></td>
                    <td>${keyword.volume.toLocaleString()}</td>
                    <td><span class="priority-badge ${keyword.priority.toLowerCase()}">${keyword.priority}</span></td>
                    <td>#${keyword.ranking}</td>
                    <td>
                        <div class="ranking-trend">
                            <span class="trend-arrow trend-${keyword.trend}">
                                ${keyword.trend === 'up' ? '‚ÜóÔ∏è' : keyword.trend === 'down' ? '‚ÜòÔ∏è' : '‚û°Ô∏è'}
                            </span>
                            <span class="trend-${keyword.trend}">
                                ${keyword.trendValue > 0 ? '+' : ''}${keyword.trendValue}
                            </span>
                        </div>
                    </td>
                    <td>
                        <div class="aio-score">
                            <span>${keyword.aioScore}</span>
                            <div class="score-bar">
                                <div class="score-fill score-${keyword.aioScore >= 80 ? 'high' : keyword.aioScore >= 50 ? 'medium' : 'low'}" 
                                     style="width: ${keyword.aioScore}%"></div>
                            </div>
                        </div>
                    </td>
                    <td>${keyword.competition}/100</td>
                    <td>
                        <button class="btn btn-secondary" style="padding: 0.5rem; font-size: 12px;" onclick="editKeyword('${keyword.keyword}')">
                            ‚úèÔ∏è Edit
                        </button>
                    </td>
                </tr>
            `).join('');

            renderPagination();
        }

        // Render pagination
        function renderPagination() {
            const pagination = document.getElementById('pagination');
            const totalPages = Math.ceil(filteredData.length / itemsPerPage);

            if (totalPages <= 1) {
                pagination.innerHTML = '';
                return;
            }

            let paginationHTML = `
                <button class="page-btn" ${currentPage === 1 ? 'disabled' : ''} onclick="changePage(${currentPage - 1})">
                    ‚Äπ Previous
                </button>
            `;

            for (let i = 1; i <= totalPages; i++) {
                if (i === 1 || i === totalPages || Math.abs(i - currentPage) <= 2) {
                    paginationHTML += `
                        <button class="page-btn ${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">
                            ${i}
                        </button>
                    `;
                } else if (Math.abs(i - currentPage) === 3) {
                    paginationHTML += '<span>...</span>';
                }
            }

            paginationHTML += `
                <button class="page-btn" ${currentPage === totalPages ? 'disabled' : ''} onclick="changePage(${currentPage + 1})">
                    Next ‚Ä∫
                </button>
            `;

            pagination.innerHTML = paginationHTML;
        }

        // Change page
        function changePage(page) {
            const totalPages = Math.ceil(filteredData.length / itemsPerPage);
            if (page >= 1 && page <= totalPages) {
                currentPage = page;
                renderTable();
            }
        }

        // Filter functions
        function applyFilters() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const priorityFilter = document.getElementById('priorityFilter').value;
            const aioFilter = document.getElementById('aioFilter').value;

            filteredData = keywordsData.filter(keyword => {
                const matchesSearch = keyword.keyword.toLowerCase().includes(searchTerm);
                const matchesPriority = !priorityFilter || keyword.priority === priorityFilter;
                
                let matchesAIO = true;
                if (aioFilter === 'high') matchesAIO = keyword.aioScore >= 80;
                else if (aioFilter === 'medium') matchesAIO = keyword.aioScore >= 50 && keyword.aioScore < 80;
                else if (aioFilter === 'low') matchesAIO = keyword.aioScore < 50;

                return matchesSearch && matchesPriority && matchesAIO;
            });

            currentPage = 1;
            renderTable();
        }

        // Event listeners for filters
        document.getElementById('searchInput').addEventListener('input', applyFilters);
        document.getElementById('priorityFilter').addEventListener('change', applyFilters);
        document.getElementById('aioFilter').addEventListener('change', applyFilters);

        // Modal functions
        function showImportModal() {
            document.getElementById('importModal').style.display = 'flex';
        }

        function hideImportModal() {
            document.getElementById('importModal').style.display = 'none';
        }

        // Import/Export functions
        function exportKeywords() {
            // Mock export functionality
            const csvContent = "data:text/csv;charset=utf-8," 
                + "Keyword,Volume,Priority,Ranking,AIO Score,Competition\n"
                + keywordsData.map(k => `${k.keyword},${k.volume},${k.priority},${k.ranking},${k.aioScore},${k.competition}`).join("\n");
            
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "keywords_export.csv");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function downloadTemplate() {
            const csvContent = "data:text/csv;charset=utf-8," 
                + "keyword,search_volume,competition_score\n"
                + "example keyword,10000,50\n";
            
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "keyword_import_template.csv");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function editKeyword(keyword) {
            alert(`Edit functionality for "${keyword}" would open here`);
        }

        // File upload handling
        document.getElementById('uploadArea').addEventListener('click', function() {
            document.getElementById('fileInput').click();
        });

        document.getElementById('fileInput').addEventListener('change', function(e) {
            if (e.target.files.length > 0) {
                alert(`File "${e.target.files[0].name}" selected. Import functionality would process the file here.`);
                hideImportModal();
            }
        });

        // Drag and drop handling
        const uploadArea = document.getElementById('uploadArea');
        
        uploadArea.addEventListener('dragover', function(e) {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', function() {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', function(e) {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            
            if (e.dataTransfer.files.length > 0) {
                alert(`File "${e.dataTransfer.files[0].name}" dropped. Import functionality would process the file here.`);
                hideImportModal();
            }
        });

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            initCharts();
            renderTable();
        });
    </script>
</body>
</html>