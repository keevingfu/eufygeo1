<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eureka GEO Intelligence Dashboard - Search Intent Analytics</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            padding: 20px 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .logo {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #FF6900 0%, #FF8C00 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
            box-shadow: 0 4px 15px rgba(255,105,0,0.3);
        }
        
        .title {
            font-size: 24px;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            font-size: 14px;
            color: #666;
        }
        
        .status-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: linear-gradient(135deg, #52C41A20, #73D13D20);
            border-radius: 20px;
            font-size: 13px;
            color: #52C41A;
            font-weight: 500;
        }
        
        .pulse {
            width: 8px;
            height: 8px;
            background: #52C41A;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(82, 196, 26, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(82, 196, 26, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(82, 196, 26, 0);
            }
        }
        
        /* Container */
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 30px;
        }
        
        /* KPI Cards */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .kpi-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .kpi-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
        }
        
        .kpi-card.primary::before {
            background: linear-gradient(90deg, #667eea, #764ba2);
        }
        
        .kpi-card.success::before {
            background: linear-gradient(90deg, #52C41A, #73D13D);
        }
        
        .kpi-card.warning::before {
            background: linear-gradient(90deg, #FAAD14, #FFC53D);
        }
        
        .kpi-card.info::before {
            background: linear-gradient(90deg, #1890FF, #40A9FF);
        }
        
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        }
        
        .kpi-label {
            font-size: 13px;
            color: #666;
            font-weight: 500;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .kpi-value {
            font-size: 32px;
            font-weight: bold;
            color: #1a1a1a;
            margin-bottom: 8px;
        }
        
        .kpi-change {
            font-size: 13px;
            color: #52C41A;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .kpi-change.negative {
            color: #F5222D;
        }
        
        /* Chart Cards */
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 24px;
            margin-bottom: 30px;
        }
        
        .chart-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .chart-card.full-width {
            grid-column: 1 / -1;
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .chart-title {
            font-size: 18px;
            font-weight: 600;
            color: #1a1a1a;
        }
        
        /* Priority Table */
        .priority-table {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }
        
        .table-wrapper {
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background: #f9f9f9;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            color: #666;
            font-size: 13px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #f0f0f0;
            font-size: 14px;
        }
        
        tr:hover {
            background: #fafafa;
        }
        
        .intent-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .intent-how {
            background: #52C41A20;
            color: #52C41A;
        }
        
        .intent-why {
            background: #1890FF20;
            color: #1890FF;
        }
        
        .intent-versus {
            background: #FAAD1420;
            color: #FAAD14;
        }
        
        .intent-what {
            background: #667eea20;
            color: #667eea;
        }
        
        .intent-troubleshoot {
            background: #F5222D20;
            color: #F5222D;
        }
        
        .priority-bar {
            width: 100px;
            height: 6px;
            background: #f0f0f0;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .priority-fill {
            height: 100%;
            background: linear-gradient(90deg, #52C41A 0%, #73D13D 100%);
            transition: width 0.3s;
        }
        
        /* Filter Buttons */
        .filter-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 8px 16px;
            background: #f5f5f5;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .filter-btn:hover {
            background: #e8e8e8;
        }
        
        .filter-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
        }
        
        /* Insights Section */
        .insights-section {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }
        
        .insight-card {
            padding: 16px;
            background: linear-gradient(135deg, #f8f9fa 0%, #f0f2f5 100%);
            border-radius: 12px;
            border-left: 4px solid #667eea;
            margin-bottom: 16px;
        }
        
        .insight-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #1a1a1a;
        }
        
        .insight-text {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-left">
            <div class="logo">EU</div>
            <div>
                <div class="title">Eureka GEO Intelligence</div>
                <div class="subtitle">Search Intent Analytics & Content Strategy</div>
            </div>
        </div>
        <div class="status-badge">
            <span class="pulse"></span>
            <span>30 Queries Analyzed</span>
        </div>
    </div>

    <div class="container">
        <!-- KPI Cards -->
        <div class="kpi-grid">
            <div class="kpi-card primary">
                <div class="kpi-label">
                    <span>📊</span> Total Search Intents
                </div>
                <div class="kpi-value">30</div>
                <div class="kpi-change">
                    <span>↑</span> Active queries
                </div>
            </div>
            
            <div class="kpi-card success">
                <div class="kpi-label">
                    <span>🎯</span> Avg Priority Score
                </div>
                <div class="kpi-value">47.2</div>
                <div class="kpi-change">
                    <span>↑</span> Above baseline
                </div>
            </div>
            
            <div class="kpi-card warning">
                <div class="kpi-label">
                    <span>🏆</span> Competitor Mentions
                </div>
                <div class="kpi-value">12</div>
                <div class="kpi-change negative">
                    <span>!</span> Monitor closely
                </div>
            </div>
            
            <div class="kpi-card info">
                <div class="kpi-label">
                    <span>📝</span> Content Templates
                </div>
                <div class="kpi-value">7</div>
                <div class="kpi-change">
                    <span>→</span> Types identified
                </div>
            </div>
        </div>

        <!-- Charts Grid -->
        <div class="chart-grid">
            <!-- Intent Distribution -->
            <div class="chart-card">
                <div class="chart-header">
                    <h3 class="chart-title">🎯 Intent Distribution</h3>
                </div>
                <div id="intentChart" style="height: 350px;"></div>
            </div>
            
            <!-- Lifecycle Stages -->
            <div class="chart-card">
                <div class="chart-header">
                    <h3 class="chart-title">🔄 Customer Lifecycle Stages</h3>
                </div>
                <div id="lifecycleChart" style="height: 350px;"></div>
            </div>
        </div>

        <!-- Priority Score Distribution -->
        <div class="chart-card full-width">
            <div class="chart-header">
                <h3 class="chart-title">📈 Priority Score Distribution</h3>
            </div>
            <div id="priorityChart" style="height: 300px;"></div>
        </div>

        <!-- Top Priority Queries Table -->
        <div class="priority-table">
            <div class="chart-header">
                <h3 class="chart-title">🔥 Top Priority Search Queries</h3>
            </div>
            <div class="table-wrapper">
                <table id="priorityTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Intent Type</th>
                            <th>Product</th>
                            <th>Competitor</th>
                            <th>Priority Score</th>
                            <th>SV Score</th>
                            <th>Template</th>
                            <th>Progress</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Additional Charts -->
        <div class="chart-grid">
            <!-- Competitor Analysis -->
            <div class="chart-card">
                <div class="chart-header">
                    <h3 class="chart-title">🏁 Competitor Landscape</h3>
                </div>
                <div id="competitorChart" style="height: 350px;"></div>
            </div>
            
            <!-- Channel Distribution -->
            <div class="chart-card">
                <div class="chart-header">
                    <h3 class="chart-title">📡 Channel Strategy</h3>
                </div>
                <div id="channelChart" style="height: 350px;"></div>
            </div>
        </div>

        <!-- Template Recommendations -->
        <div class="chart-card full-width">
            <div class="chart-header">
                <h3 class="chart-title">📋 Content Template Distribution</h3>
            </div>
            <div id="templateChart" style="height: 300px;"></div>
        </div>

        <!-- AI Insights -->
        <div class="insights-section">
            <div class="chart-header">
                <h3 class="chart-title">💡 Strategic Insights</h3>
            </div>
            <div class="insight-card">
                <div class="insight-title">🎯 High Priority Opportunity</div>
                <div class="insight-text">
                    E10s mop performance comparison queries show highest search volume (SV: 64) with low competition. 
                    Prioritize comparison content against rotating mops and roller brushes.
                </div>
            </div>
            <div class="insight-card">
                <div class="insight-title">🔍 Competitive Gap</div>
                <div class="insight-text">
                    12 queries mention competitors (Roborock, Dreame, Eufy S1 Pro). 
                    Focus on head-to-head comparison content with clear differentiation points.
                </div>
            </div>
            <div class="insight-card">
                <div class="insight-title">📊 Content Strategy</div>
                <div class="insight-text">
                    HowTo (30%) and Comparison (27%) templates dominate. 
                    Create comprehensive troubleshooting guides and maintenance tutorials for better user support.
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data from the CSV
        const data = [
            {id: 'E-0002', intent: 'Why', entities: 'E10s', competitor: 'Eufy S1 Pro, Dreame', sv_score: 64, seo_difficulty: 55, priority_score: 66.62, template: 'Comparison', channels: 'Site, YouTube, Pro, Reddit', lifecycle: 'Consideration/Purchase'},
            {id: 'E-0001', intent: 'How', entities: 'E10s', competitor: '', sv_score: 70, seo_difficulty: 45, priority_score: 60.75, template: 'HowTo', channels: 'Site, YouTube, Reddit', lifecycle: 'Usage/Maintenance'},
            {id: 'E-0012', intent: 'How', entities: 'E10s', competitor: '', sv_score: 59, seo_difficulty: 38, priority_score: 59.02, template: 'HowTo', channels: 'Site, YouTube, Reddit', lifecycle: 'Usage/Maintenance'},
            {id: 'E-0005', intent: 'Versus', entities: 'E10s', competitor: 'Roborock Q7 Max+', sv_score: 66, seo_difficulty: 56, priority_score: 57.23, template: 'Comparison', channels: 'Site, YouTube, Reddit, Pro', lifecycle: 'Consideration/Purchase'},
            {id: 'E-0013', intent: 'Versus', entities: 'E10s', competitor: 'Dreame L10s', sv_score: 60, seo_difficulty: 58, priority_score: 56.37, template: 'Comparison', channels: 'Site, YouTube, Pro', lifecycle: 'Consideration/Purchase'},
            {id: 'E-0009', intent: 'How', entities: 'E10s, J15 Pro Ultra', competitor: '', sv_score: 63, seo_difficulty: 42, priority_score: 56.15, template: 'HowTo', channels: 'Site, YouTube, Reddit', lifecycle: 'Usage/Maintenance'},
            {id: 'E-0020', intent: 'Versus', entities: 'E10s', competitor: 'Eufy S1 Pro', sv_score: 58, seo_difficulty: 54, priority_score: 54.67, template: 'Comparison', channels: 'Site, YouTube, Pro', lifecycle: 'Consideration/Purchase'},
            {id: 'E-0003', intent: 'How', entities: 'E10s', competitor: '', sv_score: 58, seo_difficulty: 48, priority_score: 53.10, template: 'HowTo', channels: 'Site, YouTube, Reddit', lifecycle: 'Usage/Maintenance'},
            {id: 'E-0017', intent: 'Troubleshoot', entities: 'E10s', competitor: '', sv_score: 56, seo_difficulty: 42, priority_score: 51.30, template: 'Troubleshoot', channels: 'Site, YouTube, Reddit', lifecycle: 'Usage/Maintenance'},
            {id: 'E-0006', intent: 'Troubleshoot', entities: 'E10s', competitor: '', sv_score: 55, seo_difficulty: 47, priority_score: 50.00, template: 'Troubleshoot', channels: 'Site, Reddit, YouTube', lifecycle: 'Usage/Maintenance'}
        ];

        // Intent Distribution Chart
        function initIntentChart() {
            const chart = echarts.init(document.getElementById('intentChart'));
            
            const intentCounts = {};
            data.forEach(item => {
                intentCounts[item.intent] = (intentCounts[item.intent] || 0) + 1;
            });
            
            const option = {
                tooltip: {
                    trigger: 'item',
                    formatter: '{b}: {c} ({d}%)'
                },
                legend: {
                    bottom: 0,
                    left: 'center'
                },
                series: [{
                    type: 'pie',
                    radius: ['40%', '70%'],
                    avoidLabelOverlap: false,
                    itemStyle: {
                        borderRadius: 10,
                        borderColor: '#fff',
                        borderWidth: 2
                    },
                    label: {
                        show: false,
                        position: 'center'
                    },
                    emphasis: {
                        label: {
                            show: true,
                            fontSize: 20,
                            fontWeight: 'bold'
                        }
                    },
                    labelLine: {
                        show: false
                    },
                    data: [
                        {value: 9, name: 'How', itemStyle: {color: '#52C41A'}},
                        {value: 5, name: 'Versus', itemStyle: {color: '#FAAD14'}},
                        {value: 6, name: 'What', itemStyle: {color: '#667eea'}},
                        {value: 5, name: 'Troubleshoot', itemStyle: {color: '#F5222D'}},
                        {value: 3, name: 'Why', itemStyle: {color: '#1890FF'}},
                        {value: 2, name: 'Other', itemStyle: {color: '#8c8c8c'}}
                    ]
                }]
            };
            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        // Lifecycle Stage Chart
        function initLifecycleChart() {
            const chart = echarts.init(document.getElementById('lifecycleChart'));
            
            const option = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'value'
                },
                yAxis: {
                    type: 'category',
                    data: ['Consideration/Purchase', 'Usage/Maintenance']
                },
                series: [{
                    type: 'bar',
                    data: [12, 18],
                    itemStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [
                            {offset: 0, color: '#667eea'},
                            {offset: 1, color: '#764ba2'}
                        ])
                    },
                    barWidth: '60%'
                }]
            };
            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        // Priority Score Distribution
        function initPriorityChart() {
            const chart = echarts.init(document.getElementById('priorityChart'));
            
            const priorityData = data.map(item => ({
                name: item.id,
                value: [item.id, item.priority_score]
            })).sort((a, b) => b.value[1] - a.value[1]);
            
            const option = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: priorityData.map(item => item.name),
                    axisLabel: {
                        rotate: 45,
                        interval: 0
                    }
                },
                yAxis: {
                    type: 'value',
                    name: 'Priority Score'
                },
                series: [{
                    type: 'bar',
                    data: priorityData.map(item => item.value[1]),
                    itemStyle: {
                        color: function(params) {
                            const value = params.value;
                            if (value > 60) return '#52C41A';
                            if (value > 50) return '#FAAD14';
                            if (value > 40) return '#1890FF';
                            return '#8c8c8c';
                        }
                    }
                }]
            };
            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        // Competitor Analysis Chart
        function initCompetitorChart() {
            const chart = echarts.init(document.getElementById('competitorChart'));
            
            const competitors = {};
            data.forEach(item => {
                if (item.competitor) {
                    const comps = item.competitor.split(',').map(c => c.trim());
                    comps.forEach(comp => {
                        if (comp) {
                            competitors[comp] = (competitors[comp] || 0) + 1;
                        }
                    });
                }
            });
            
            const option = {
                tooltip: {
                    trigger: 'item',
                    formatter: '{b}: {c} mentions'
                },
                series: [{
                    type: 'wordCloud',
                    shape: 'circle',
                    left: 'center',
                    top: 'center',
                    width: '90%',
                    height: '90%',
                    right: null,
                    bottom: null,
                    sizeRange: [20, 60],
                    rotationRange: [-45, 45],
                    rotationStep: 45,
                    gridSize: 8,
                    drawOutOfBound: false,
                    layoutAnimation: true,
                    textStyle: {
                        fontFamily: 'sans-serif',
                        fontWeight: 'bold',
                        color: function () {
                            return 'rgb(' + [
                                Math.round(Math.random() * 100 + 100),
                                Math.round(Math.random() * 100 + 100),
                                Math.round(Math.random() * 250)
                            ].join(',') + ')';
                        }
                    },
                    emphasis: {
                        focus: 'self',
                        textStyle: {
                            textShadowBlur: 10,
                            textShadowColor: '#333'
                        }
                    },
                    data: Object.entries(competitors).map(([name, count]) => ({
                        name: name,
                        value: count * 100
                    }))
                }]
            };
            
            // Fallback to bar chart if wordCloud is not available
            const barOption = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '15%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: Object.keys(competitors),
                    axisLabel: {
                        rotate: 45,
                        interval: 0
                    }
                },
                yAxis: {
                    type: 'value',
                    name: 'Mentions'
                },
                series: [{
                    type: 'bar',
                    data: Object.values(competitors),
                    itemStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            {offset: 0, color: '#FF6900'},
                            {offset: 1, color: '#FF8C00'}
                        ])
                    }
                }]
            };
            
            chart.setOption(barOption);
            window.addEventListener('resize', () => chart.resize());
        }

        // Channel Distribution Chart
        function initChannelChart() {
            const chart = echarts.init(document.getElementById('channelChart'));
            
            const channels = {};
            data.forEach(item => {
                if (item.channels) {
                    const chs = item.channels.split(',').map(c => c.trim());
                    chs.forEach(ch => {
                        channels[ch] = (channels[ch] || 0) + 1;
                    });
                }
            });
            
            const option = {
                tooltip: {
                    trigger: 'item',
                    formatter: '{b}: {c} ({d}%)'
                },
                series: [{
                    type: 'pie',
                    radius: '65%',
                    center: ['50%', '50%'],
                    data: Object.entries(channels).map(([name, count]) => ({
                        name: name,
                        value: count
                    })).sort((a, b) => b.value - a.value),
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }]
            };
            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        // Template Distribution Chart
        function initTemplateChart() {
            const chart = echarts.init(document.getElementById('templateChart'));
            
            const templates = {};
            data.forEach(item => {
                templates[item.template] = (templates[item.template] || 0) + 1;
            });
            
            const option = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: Object.keys(templates)
                },
                yAxis: {
                    type: 'value',
                    name: 'Count'
                },
                series: [{
                    type: 'bar',
                    data: Object.values(templates),
                    itemStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            {offset: 0, color: '#667eea'},
                            {offset: 1, color: '#764ba2'}
                        ]),
                        borderRadius: [8, 8, 0, 0]
                    }
                }]
            };
            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        // Populate Priority Table
        function populateTable() {
            const tbody = document.querySelector('#priorityTable tbody');
            const topItems = data.slice(0, 10); // Top 10 items
            
            topItems.forEach(item => {
                const row = document.createElement('tr');
                const intentClass = `intent-${item.intent.toLowerCase()}`;
                const priorityWidth = (item.priority_score / 100) * 100;
                
                row.innerHTML = `
                    <td>${item.id}</td>
                    <td><span class="intent-badge ${intentClass}">${item.intent}</span></td>
                    <td>${item.entities}</td>
                    <td>${item.competitor || '-'}</td>
                    <td><strong>${item.priority_score.toFixed(2)}</strong></td>
                    <td>${item.sv_score}</td>
                    <td>${item.template}</td>
                    <td>
                        <div class="priority-bar">
                            <div class="priority-fill" style="width: ${priorityWidth}%"></div>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // Initialize all charts
        document.addEventListener('DOMContentLoaded', function() {
            initIntentChart();
            initLifecycleChart();
            initPriorityChart();
            initCompetitorChart();
            initChannelChart();
            initTemplateChart();
            populateTable();
        });

        // Add some animation to KPI values
        function animateValue(id, start, end, duration) {
            const obj = document.getElementById(id);
            if (!obj) return;
            
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const value = Math.floor(progress * (end - start) + start);
                obj.innerHTML = value;
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }
    </script>
</body>
</html>